{"ast":null,"code":"import{getCode,getName}from'../utils/common';import React,{useState}from'react';import TextInput from'../components/commons/baseText';import{excelDownload}from'../utils/common';import Excel from'../assets/images/uxicon-excel.png';import SearchIcon from'../assets/images/search.svg';import axiosInstance from'../api/axiosInstans';import dayjs from'dayjs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Search(_ref){let{type,count,data,setData}=_ref;const[cmpk,setCmpk]=useState('');const[cName,setCname]=useState('');const[cCell,setCcell]=useState('');const[cJumin,setCjumin]=useState('');const[date,setDate]=useState('');const today=dayjs().format('YYYY-MM-DD');const onClickHandler=e=>{let bpk=getCode(type);let param={bpk:bpk,cmpk:cmpk,cName:cName,cCell:cCell,cJumin:cJumin,date:date};const fetchData=async()=>{try{const result=await axiosInstance.post('/searchData',param);setData(result);if(result.length<=0){alert(\"데이터가 없습니다.\");}}catch(error){console.error('Error fetching data:',error);}};fetchData();};return/*#__PURE__*/_jsx(\"div\",{className:\"pl-[90px] w-full mt-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full px-4 \",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:getName(type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"basis-1/3\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uCD1D : \",count,\"\\uAC74\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"basis-2/3 flex_center\",children:[/*#__PURE__*/_jsx(TextInput,{classnames:'w-[120px]',text:'고객키',value:cmpk,onChange:e=>setCmpk(e.target.value)}),/*#__PURE__*/_jsx(TextInput,{classnames:'w-[120px]',text:'핸드폰',value:cCell,onChange:e=>setCcell(e.target.value)}),/*#__PURE__*/_jsx(TextInput,{classnames:'w-[100px]',text:'생년월일',value:cJumin,onChange:e=>setCjumin(e.target.value)}),/*#__PURE__*/_jsx(TextInput,{classnames:'w-[60px]',text:'이름',value:cName,onChange:e=>setCname(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex_center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"w-[60px] text-center mx-1\",children:\"\\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"input\",{className:\"px-2 text_input\",type:'date',defaultValue:today,onChange:e=>setDate(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4 border flex_center w-[30px] h-[30px] rounded-lg\",children:/*#__PURE__*/_jsx(\"button\",{className:\"outline-none\",onClick:onClickHandler,children:/*#__PURE__*/_jsx(\"img\",{src:SearchIcon,alt:'search',width:20})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-8\",children:/*#__PURE__*/_jsx(\"button\",{onClick:event=>excelDownload(getName(type),data),children:/*#__PURE__*/_jsx(\"img\",{src:Excel,alt:'excel',width:40})})})]})]})]})});}","map":{"version":3,"names":["getCode","getName","React","useState","TextInput","excelDownload","Excel","SearchIcon","axiosInstance","dayjs","jsx","_jsx","jsxs","_jsxs","Search","_ref","type","count","data","setData","cmpk","setCmpk","cName","setCname","cCell","setCcell","cJumin","setCjumin","date","setDate","today","format","onClickHandler","e","bpk","param","fetchData","result","post","length","alert","error","console","className","children","classnames","text","value","onChange","target","defaultValue","onClick","src","alt","width","event"],"sources":["D:/IdeaProjects/admin/src/components/search.tsx"],"sourcesContent":["import {getCode, getName} from '../utils/common';\r\nimport React, { SetStateAction, useState } from 'react';\r\nimport TextInput from '../components/commons/baseText';\r\nimport {excelDownload} from '../utils/common';\r\nimport Excel from '../assets/images/uxicon-excel.png';\r\nimport {Person} from '../@types/common';\r\nimport SearchIcon from '../assets/images/search.svg';\r\nimport axiosInstance from '../api/axiosInstans';\r\nimport dayjs from 'dayjs';\r\ninterface Props {\r\n    type : string,\r\n    count : number,\r\n    data : Person[],\r\n    setData : React.Dispatch<SetStateAction<Person[]>>\r\n}\r\n\r\ninterface Param {\r\n    [key: string]: string;\r\n}\r\nexport default function Search({type, count, data, setData} : Props){\r\n    const [cmpk, setCmpk] = useState('');\r\n    const [cName, setCname] = useState('');\r\n    const [cCell, setCcell] = useState('');\r\n    const [cJumin, setCjumin] = useState('');\r\n    const [date, setDate] = useState('');\r\n    const today = dayjs().format('YYYY-MM-DD');\r\n    const onClickHandler = (e: React.MouseEvent) => {\r\n        let bpk = getCode(type);\r\n\r\n        let param : Param = {\r\n            bpk : bpk,\r\n            cmpk : cmpk,\r\n            cName : cName,\r\n            cCell : cCell,\r\n            cJumin : cJumin,\r\n            date: date\r\n        }\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                const result: any = await axiosInstance.post('/searchData',param);\r\n                setData(result);\r\n                if(result.length <= 0 ){\r\n                    alert(\"데이터가 없습니다.\")\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching data:', error);\r\n            }\r\n        };\r\n        fetchData();\r\n    }\r\n    return (\r\n        <div className='pl-[90px] w-full mt-8'>\r\n            <div className='w-full px-4 '>\r\n                <p className='font-bold'>{getName(type)}</p>\r\n                <div className='flex w-full'>\r\n                    <div className='basis-1/3'>\r\n                        <p>총 : {count}건</p>\r\n                    </div>\r\n                    <div className='basis-2/3 flex_center'>\r\n                        <TextInput\r\n                            classnames={'w-[120px]'}\r\n                            text={'고객키'}\r\n                            value={cmpk}\r\n                            onChange={(e) => setCmpk(e.target.value)}\r\n                        />\r\n                        <TextInput\r\n                            classnames={'w-[120px]'}\r\n                            text={'핸드폰'}\r\n                            value={cCell}\r\n                            onChange={(e) => setCcell(e.target.value)}\r\n                        />\r\n                        <TextInput\r\n                            classnames={'w-[100px]'}\r\n                            text={'생년월일'}\r\n                            value={cJumin}\r\n                            onChange={(e) => setCjumin(e.target.value)}\r\n                        />\r\n                        <TextInput\r\n                            classnames={'w-[60px]'}\r\n                            text={'이름'}\r\n                            value={cName}\r\n                            onChange={(e) => setCname(e.target.value)}\r\n                        />\r\n                        <div className='flex_center'>\r\n                            <label className='w-[60px] text-center mx-1'>\r\n                                날짜\r\n                            </label>\r\n                            <input className='px-2 text_input' type={'date'} defaultValue={today}\r\n                                   onChange={(e: React.ChangeEvent<HTMLInputElement>) => setDate(e.target.value)}/>\r\n                        </div>\r\n                        <div className='ml-4 border flex_center w-[30px] h-[30px] rounded-lg'>\r\n                            <button className='outline-none' onClick={onClickHandler}>\r\n                                <img src={SearchIcon} alt={'search'} width={20}/>\r\n                            </button>\r\n                        </div>\r\n                        <div className='mx-8'>\r\n                            <button\r\n                                onClick={(event: React.MouseEvent<HTMLButtonElement>) => excelDownload(getName(type), data)}>\r\n                                <img src={Excel} alt={'excel'} width={40}/>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}