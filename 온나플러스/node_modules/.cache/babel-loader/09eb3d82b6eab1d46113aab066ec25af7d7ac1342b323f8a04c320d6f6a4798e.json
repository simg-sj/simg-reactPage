{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import{sendJoin}from\"../../pages/api/sendJoin\";import{jsx as _jsx}from\"react/jsx-runtime\";const RegisterButton=props=>{const page=useNavigate();const[msg,setMsg]=useState('');const[flag,setFlag]=useState(false);const[errMsg,setErrMsg]=useState(false);const customStyles={overlay:{backgroundColor:\"rgba(0,0,0,0.5)\"},content:{left:\"50%\",margin:\"auto\",width:\"350px\",height:\"200px\",padding:\"0\",overflow:\"hidden\",transform:\"translate(-50%,0)\"}};const onClickHandler=e=>{let{id}=e.target;if(id==='reg'){let idx;let check='';for(idx in props.info){if(props.info[idx]===''&&idx!=='cMail'&&props.info[idx]==='Y'){check=idx;if(check==='bpk')setMsg('업체를 선택해주세요.');if(check==='cName')setMsg('이름을 입력해주세요.');if(check==='cCell')setMsg('전화번호를 입력해주세요.');if(check==='cJumin')setMsg('주민번호를 입력해주세요.');if(check==='cPost')setMsg('주소를 입력해주세요.');if(check==='cAddr1')setMsg('주소1을 입력해주세요.');if(check==='cAddr2')setMsg('주소2를 입력해주세요.');if(check==='cJobN')setMsg('직장명을 입력해주세요.');if(check==='cCarCc')setMsg('배기량을 입력해주세요.');if(check==='cUseN')setMsg('운전경력을 입력해주세요.');if(check==='cJobLocal')setMsg('근무지역을 입력해주세요.');if(check==='cMoney')setMsg('월소득을 입력해주세요.');if(check==='cDrink')setMsg('음주여부를 입력해주세요.');if(check==='cWeekD')setMsg('음주횟수를 입력해주세요.');if(check==='cOneD')setMsg('주량을 입력해주세요.');if(check==='cSmoke')setMsg('흡연여부를 입력해주세요.');if(check==='cWeekS')setMsg('흡연량를 입력해주세요.');if(check==='cOneS')setMsg('흡연기간을 입력해주세요.');if(check==='cHeight')setMsg('주소를 입력해주세요.');if(check==='cWeight')setMsg('몸무게를 입력해주세요.');if(check==='cBank')setMsg('은행명을 입력해주세요.');if(check==='cAccount')setMsg('계좌번호를 입력해주세요.');if(check==='cPayDt')setMsg('납입 일자를 선택해주세요.');break;}}if(check===''){sendJoin(props.info).then(res=>{if(res.status===200){setFlag(true);alert(\"감사합니다!\\n이륜차 운전자 보험 가입 신청이 완료되었습니다. \\n 기입해주신 번호로 담당자가 곧 연락드릴 예정입니다\");}else{alert(res.msg);}});}else{//setErrMsg(true);\nalert(msg);}}if(id==='confirm'){page('/');}};useEffect(()=>{},[props.info]);return/*#__PURE__*/_jsx(\"div\",{className:\"w-full pb-[170px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border mx-8 my-8 py-[10px] px-4 rounded-lg bg-[#0e47a1] text-white font-bold text-[14px] flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{id:'reg',className:\"w-full\",onClick:onClickHandler,children:\"\\uC2E0\\uCCAD\\uD558\\uAE30\"})})});};export default RegisterButton;","map":{"version":3,"names":["useNavigate","React","useEffect","useState","sendJoin","jsx","_jsx","RegisterButton","props","page","msg","setMsg","flag","setFlag","errMsg","setErrMsg","customStyles","overlay","backgroundColor","content","left","margin","width","height","padding","overflow","transform","onClickHandler","e","id","target","idx","check","info","then","res","status","alert","className","children","onClick"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/components/atoms/registerButton.tsx"],"sourcesContent":["import {useNavigate} from \"react-router-dom\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {sendJoin} from \"../../pages/api/sendJoin\";\r\nimport Modal from \"react-modal\";\r\nimport {InfoProps} from \"./inputs/carNumInput\";\r\n\r\nconst RegisterButton = (props : {info : InfoProps} ) => {\r\n    const page = useNavigate();\r\n    const [msg, setMsg] = useState<string>('');\r\n    const [flag, setFlag] = useState<boolean>(false);\r\n    const [errMsg, setErrMsg] = useState<boolean>(false);\r\n    const customStyles = {\r\n        overlay: {\r\n            backgroundColor: \"rgba(0,0,0,0.5)\",\r\n        },\r\n        content: {\r\n            left: \"50%\",\r\n            margin: \"auto\",\r\n            width: \"350px\",\r\n            height: \"200px\",\r\n            padding: \"0\",\r\n            overflow: \"hidden\",\r\n            transform : \"translate(-50%,0)\"\r\n        },\r\n    };\r\n    const onClickHandler = (e : React.MouseEvent<HTMLElement>) => {\r\n        let { id } : any = e.target;\r\n        if(id === 'reg'){\r\n            let idx: keyof typeof props.info;\r\n            let check : string = '';\r\n            for(idx in props.info){\r\n                if(props.info[idx] === '' && idx !== 'cMail' && props.info[idx] === 'Y'){\r\n                    check = idx;\r\n                    if(check === 'bpk') setMsg( '업체를 선택해주세요.');\r\n                    if(check === 'cName') setMsg('이름을 입력해주세요.');\r\n                    if(check === 'cCell') setMsg('전화번호를 입력해주세요.');\r\n                    if(check === 'cJumin') setMsg('주민번호를 입력해주세요.');\r\n                    if(check === 'cPost') setMsg('주소를 입력해주세요.');\r\n                    if(check === 'cAddr1') setMsg('주소1을 입력해주세요.');\r\n                    if(check === 'cAddr2') setMsg('주소2를 입력해주세요.');\r\n                    if(check === 'cJobN') setMsg('직장명을 입력해주세요.');\r\n                    if(check === 'cCarCc') setMsg('배기량을 입력해주세요.');\r\n                    if(check === 'cUseN') setMsg('운전경력을 입력해주세요.');\r\n                    if(check === 'cJobLocal') setMsg('근무지역을 입력해주세요.');\r\n                    if(check === 'cMoney') setMsg('월소득을 입력해주세요.');\r\n                    if(check === 'cDrink') setMsg('음주여부를 입력해주세요.');\r\n                    if(check === 'cWeekD') setMsg('음주횟수를 입력해주세요.');\r\n                    if(check === 'cOneD') setMsg('주량을 입력해주세요.');\r\n                    if(check === 'cSmoke') setMsg('흡연여부를 입력해주세요.');\r\n                    if(check === 'cWeekS') setMsg('흡연량를 입력해주세요.');\r\n                    if(check === 'cOneS') setMsg('흡연기간을 입력해주세요.');\r\n                    if(check === 'cHeight') setMsg('주소를 입력해주세요.');\r\n                    if(check === 'cWeight') setMsg('몸무게를 입력해주세요.');\r\n                    if(check === 'cBank') setMsg('은행명을 입력해주세요.');\r\n                    if(check === 'cAccount') setMsg('계좌번호를 입력해주세요.');\r\n                    if(check === 'cPayDt') setMsg('납입 일자를 선택해주세요.');\r\n\r\n                    break;\r\n                }\r\n            }\r\n            if(check === ''){\r\n                sendJoin(props.info)\r\n                    .then((res : any) => {\r\n                        if(res.status === 200){\r\n                            setFlag(true);\r\n                            alert(\"감사합니다!\\n이륜차 운전자 보험 가입 신청이 완료되었습니다. \\n 기입해주신 번호로 담당자가 곧 연락드릴 예정입니다\")\r\n                        }else {\r\n                            alert(res.msg);\r\n                        }\r\n                    })\r\n            }else {\r\n                //setErrMsg(true);\r\n                alert(msg)\r\n            }\r\n        }\r\n        if(id === 'confirm'){\r\n            page('/');\r\n        }\r\n    }\r\n    useEffect(() => {\r\n\r\n    }, [props.info]);\r\n    return (\r\n        <div className='w-full pb-[170px]'>\r\n            <div className='border mx-8 my-8 py-[10px] px-4 rounded-lg bg-[#0e47a1] text-white font-bold text-[14px] flex items-center justify-center'>\r\n                <button id={'reg'} className='w-full' onClick={onClickHandler}>신청하기</button>\r\n            </div>\r\n            {/*{   flag &&\r\n                    <Modal isOpen={flag} style={customStyles}>\r\n                        <div className='border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold'>\r\n                            <div className='flex justify-center py-2'>\r\n                                가입 신청 완료\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-col justify-center text-center text-[14px] font-semibold'>\r\n                            <div className='pt-4'>\r\n                                감사합니다!\r\n                            </div>\r\n                            <div>\r\n                                이륜차 운전자 보험 가입 신청이 완료되었습니다.\r\n                            </div>\r\n                            <div>\r\n                                기입해주신 번호로 담당자가 곧 연락드릴 예정입니다\r\n                            </div>\r\n                        </div>\r\n                        <div className='fixed bottom-0 w-full flex justify-center py-2'>\r\n                            <button id={'confirm'} className='button_on' onClick={onClickHandler}>확인</button>\r\n                        </div>\r\n                    </Modal>\r\n            }*/}\r\n            {/*{   errMsg &&\r\n                <Modal isOpen={errMsg} style={customStyles}>\r\n                    <div className='border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold'>\r\n                        <div className='flex justify-center py-2'>\r\n                            잘못된 입력\r\n                        </div>\r\n                    </div>\r\n                    <div className='flex justify-center mt-8'>\r\n                        <h2>\r\n                            {msg}\r\n                        </h2>\r\n                    </div>\r\n                    <div className='fixed bottom-0 w-full flex justify-center py-2'>\r\n                        <button id={'confirm'} className='button_on' onClick={(e : React.MouseEvent<HTMLElement>)=>setErrMsg(false)}>확인</button>\r\n                    </div>\r\n                </Modal>\r\n            }*/}\r\n        </div>\r\n    )\r\n}\r\nexport default RegisterButton;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}