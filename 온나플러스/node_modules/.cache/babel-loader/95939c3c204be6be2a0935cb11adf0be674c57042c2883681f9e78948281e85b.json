{"ast":null,"code":"import Axios from \"axios\";\nexport async function sendMessage(phone) {\n  const baseUrl = process.env.REACT_APP_BASE_URL;\n  const apiKey = process.env.REACT_APP_X_API_SECRET;\n  let vrfctNm = \"\";\n  for (let i = 0; i < 5; i++) {\n    let c = Math.floor(Math.random() * 9) + 1;\n    vrfctNm += c.toString();\n  }\n  let data = {\n    cell: phone,\n    code: vrfctNm\n  };\n  await Axios.post(baseUrl, data, {\n    validateStatus: () => false,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      \"X-API-SECRET\": apiKey\n    }\n  }).then(res => {\n    return \"200\";\n    console.log(\"전송\");\n  }).catch(err => {\n    console.log(err);\n  });\n}","map":{"version":3,"names":["Axios","sendMessage","phone","baseUrl","process","env","REACT_APP_BASE_URL","apiKey","REACT_APP_X_API_SECRET","vrfctNm","i","c","Math","floor","random","toString","data","cell","code","post","validateStatus","headers","then","res","console","log","catch","err"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/pages/api/sendMessage.tsx"],"sourcesContent":["import Axios, {AxiosError, AxiosResponse} from \"axios\";\r\n\r\ntype sendInfo = {\r\n    cell : string,\r\n    code : string\r\n}\r\nexport async function sendMessage(phone : string) {\r\n    const baseUrl : any = process.env.REACT_APP_BASE_URL;\r\n    const apiKey : any = process.env.REACT_APP_X_API_SECRET;\r\n    let vrfctNm : string = \"\";\r\n    for (let i : number = 0; i < 5; i++) {\r\n        let c : number = Math.floor(Math.random() * 9) + 1;\r\n        vrfctNm += c.toString();\r\n    }\r\n    let data : sendInfo = { cell : phone, code : vrfctNm};\r\n\r\n    await Axios.post(baseUrl, data, {\r\n        validateStatus: () =>  false,\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n            \"X-API-SECRET\": apiKey\r\n            }\r\n        }).then((res :AxiosResponse<any,any> ) => {\r\n            return \"200\";\r\n           console.log(\"전송\");\r\n    }).catch((err : AxiosError) =>{\r\n        console.log(err);\r\n    });\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAmC,OAAO;AAMtD,OAAO,eAAeC,WAAWA,CAACC,KAAc,EAAE;EAC9C,MAAMC,OAAa,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB;EACpD,MAAMC,MAAY,GAAGH,OAAO,CAACC,GAAG,CAACG,sBAAsB;EACvD,IAAIC,OAAgB,GAAG,EAAE;EACzB,KAAK,IAAIC,CAAU,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;IACjC,IAAIC,CAAU,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IAClDL,OAAO,IAAIE,CAAC,CAACI,QAAQ,CAAC,CAAC;EAC3B;EACA,IAAIC,IAAe,GAAG;IAAEC,IAAI,EAAGf,KAAK;IAAEgB,IAAI,EAAGT;EAAO,CAAC;EAErD,MAAMT,KAAK,CAACmB,IAAI,CAAChB,OAAO,EAAEa,IAAI,EAAE;IAC5BI,cAAc,EAAEA,CAAA,KAAO,KAAK;IAC5BC,OAAO,EAAE;MACL,cAAc,EAAE,mCAAmC;MACnD,cAAc,EAAEd;IAChB;EACJ,CAAC,CAAC,CAACe,IAAI,CAAEC,GAA2B,IAAM;IACtC,OAAO,KAAK;IACbC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;EACxB,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAgB,IAAI;IAC1BH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;EACpB,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}