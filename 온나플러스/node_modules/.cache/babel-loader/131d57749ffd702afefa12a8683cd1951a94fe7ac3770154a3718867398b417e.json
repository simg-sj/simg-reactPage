{"ast":null,"code":"import axios from \"axios\";\nimport { randomCode } from \"../../components/util/common\";\nconst baseUrl = process.env.REACT_APP_BASE_URL;\nconst apiKey = process.env.REACT_APP_X_API_SECRET;\nexport async function sendMessage(phone) {\n  let code = randomCode();\n  let param = {\n    code: code,\n    cell: phone\n  };\n  await axios.post(baseUrl, param, {\n    validateStatus: () => false,\n    headers: {\n      \"Content-Type\": 'application/x-www-form-urlencoded',\n      \"X-API-SECRET\": apiKey\n    }\n    // withCredentials: true,\n  }).then(res => {\n    console.log('success');\n    console.log(res.data.status);\n  }).catch(err => {\n    console.log(\"fail\");\n    console.log(err);\n    return code;\n  });\n}","map":{"version":3,"names":["axios","randomCode","baseUrl","process","env","REACT_APP_BASE_URL","apiKey","REACT_APP_X_API_SECRET","sendMessage","phone","code","param","cell","post","validateStatus","headers","then","res","console","log","data","status","catch","err"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/pages/api/sendMessage.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { randomCode } from \"../../components/util/common\";\r\n\r\nconst baseUrl : any = process.env.REACT_APP_BASE_URL;\r\nconst apiKey: any = process.env.REACT_APP_X_API_SECRET;\r\nexport async function sendMessage(phone : string)  {\r\n        let code = randomCode();\r\n        let param = {\r\n            code : code,\r\n            cell : phone\r\n        }\r\n        await axios.post(baseUrl, param,{\r\n            validateStatus: () =>  false,\r\n            headers : {\r\n                \"Content-Type\" : 'application/x-www-form-urlencoded',\r\n                \"X-API-SECRET\" : apiKey\r\n            },\r\n            // withCredentials: true,\r\n        }).then((res) => {\r\n            console.log('success');\r\n            console.log(res.data.status);\r\n        }).catch((err) => {\r\n            console.log(\"fail\");\r\n            console.log(err);\r\n            return code;\r\n        })\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,8BAA8B;AAEzD,MAAMC,OAAa,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB;AACpD,MAAMC,MAAW,GAAGH,OAAO,CAACC,GAAG,CAACG,sBAAsB;AACtD,OAAO,eAAeC,WAAWA,CAACC,KAAc,EAAG;EAC3C,IAAIC,IAAI,GAAGT,UAAU,CAAC,CAAC;EACvB,IAAIU,KAAK,GAAG;IACRD,IAAI,EAAGA,IAAI;IACXE,IAAI,EAAGH;EACX,CAAC;EACD,MAAMT,KAAK,CAACa,IAAI,CAACX,OAAO,EAAES,KAAK,EAAC;IAC5BG,cAAc,EAAEA,CAAA,KAAO,KAAK;IAC5BC,OAAO,EAAG;MACN,cAAc,EAAG,mCAAmC;MACpD,cAAc,EAAGT;IACrB;IACA;EACJ,CAAC,CAAC,CAACU,IAAI,CAAEC,GAAG,IAAK;IACbC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtBD,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAACC,MAAM,CAAC;EAChC,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAK;IACdL,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnBD,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;IAChB,OAAOb,IAAI;EACf,CAAC,CAAC;AACV"},"metadata":{},"sourceType":"module","externalDependencies":[]}