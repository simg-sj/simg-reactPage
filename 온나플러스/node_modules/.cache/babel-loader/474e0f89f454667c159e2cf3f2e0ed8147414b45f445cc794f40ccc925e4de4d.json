{"ast":null,"code":"import axios from'axios';/** Axios Response 데이터 형식\r\n *  config : 요청에 대한 axios 구성 설정\r\n *  data 서버가 제공한 응답 데이터\r\n *  headers : 헤더 정보\r\n *  request : 요청\r\n *  status : 응답 HTTP 상태 코드\r\n *  statusText : 응답 HTTP 상태 메시지\r\n */ // 본인 서버에서 내려주는 응답 구조\nconst baseUrl=process.env.REACT_APP_BASE_JOIN;export async function sendJoin(param){let apiKey='';if(param.bpk==='onna')apiKey=process.env.REACT_APP_X_API_SECRET_ONNA;if(param.bpk==='enuri')apiKey=process.env.REACT_APP_X_API_SECRET_ENURI;if(param.bpk==='barico')apiKey=process.env.REACT_APP_X_API_SECRET_BARICO;try{const res=await axios.post(baseUrl,param,{headers:{'Content-Type':'application/x-www-form-urlencoded','X-API-SECRET':apiKey}});console.log(res.data);if(res.status===200){console.log(res.data[0].rCnt);if(res.data[0].rCnt>0){return{status:res.status};}else{return{status:'107',msg:res.data[0].msg};}}}catch(error){return{status:error,msg:'서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다.'};}}export async function calcPremium(param){let apiKey='';if(param.bpk==='onna')apiKey=process.env.REACT_APP_X_API_SECRET_ONNA;if(param.bpk==='enuri')apiKey=process.env.REACT_APP_X_API_SECRET_ENURI;if(param.bpk==='barico')apiKey=process.env.REACT_APP_X_API_SECRET_BARICO;try{const res=await axios.post(baseUrl+'/premiumsCheck',param,{headers:{'Content-Type':'application/x-www-form-urlencoded','X-API-SECRET':apiKey}});console.log(res.data);if(res.status===200){console.log(res.data[0].rCnt);if(res.data[0].rCnt>0){return{status:res.status,defaultpremiums:res.data[0].defaultpremiums,highpremiums:res.data[0].highpremiums};}else{return{status:'107',msg:res.data[0].msg};}}}catch(error){return{status:error,msg:'서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다.'};}}","map":{"version":3,"names":["axios","baseUrl","process","env","REACT_APP_BASE_JOIN","sendJoin","param","apiKey","bpk","REACT_APP_X_API_SECRET_ONNA","REACT_APP_X_API_SECRET_ENURI","REACT_APP_X_API_SECRET_BARICO","res","post","headers","console","log","data","status","rCnt","msg","error","calcPremium","defaultpremiums","highpremiums"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/pages/api/sendJoin.tsx"],"sourcesContent":["import axios, {AxiosResponseHeaders, InternalAxiosRequestConfig, RawAxiosResponseHeaders,} from 'axios'\r\nimport {useDispatch} from \"react-redux\";\r\n/** Axios Response 데이터 형식\r\n *  config : 요청에 대한 axios 구성 설정\r\n *  data 서버가 제공한 응답 데이터\r\n *  headers : 헤더 정보\r\n *  request : 요청\r\n *  status : 응답 HTTP 상태 코드\r\n *  statusText : 응답 HTTP 상태 메시지\r\n */\r\nimport {InfoProps} from \"../../components/atoms/inputs/carNumInput\";\r\n\r\n// 본인 서버에서 내려주는 응답 구조\r\ninterface AxiosResponse<T = any, D = any> {\r\n    data: T\r\n    rCnt : number\r\n    status: number\r\n    highpremiums : string,\r\n    defaultpremiums : string,\r\n    statusText: string\r\n    headers: RawAxiosResponseHeaders | AxiosResponseHeaders\r\n    config: InternalAxiosRequestConfig<D>\r\n    request?: any\r\n    msg : any\r\n    0 : any\r\n    res : any\r\n}\r\ninterface ParamProps {\r\n    cName : string,\r\n    bpk : string,\r\n    cJumin : string,\r\n    cCheck : boolean,\r\n    cCell : string\r\n}\r\n\r\ninterface CalcProps {\r\n    bpk : string,\r\n    age : string\r\n}\r\nconst baseUrl : any = process.env.REACT_APP_BASE_JOIN;\r\nexport async function sendJoin(param : ParamProps )  {\r\n    let apiKey : any = '';\r\n    if(param.bpk === 'onna') apiKey = process.env.REACT_APP_X_API_SECRET_ONNA;\r\n    if(param.bpk === 'enuri') apiKey = process.env.REACT_APP_X_API_SECRET_ENURI;\r\n    if(param.bpk === 'barico') apiKey = process.env.REACT_APP_X_API_SECRET_BARICO;\r\n    try {\r\n        const res = await axios.post<AxiosResponse<any>>(baseUrl, param,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'X-API-SECRET' : apiKey\r\n                }\r\n            });\r\n        console.log(res.data)\r\n        if (res.status === 200) {\r\n            console.log(res.data[0].rCnt);\r\n            if(res.data[0].rCnt > 0) {\r\n                return {status : res.status};\r\n            }else {\r\n                return {status : '107', msg  : res.data[0].msg};\r\n            }\r\n        }\r\n    } catch (error) {\r\n        return {status : error , msg : '서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다.'};\r\n    }\r\n}\r\n\r\nexport async function calcPremium(param : CalcProps) {\r\n    let apiKey : any = '';\r\n    if(param.bpk === 'onna') apiKey = process.env.REACT_APP_X_API_SECRET_ONNA;\r\n    if(param.bpk === 'enuri') apiKey = process.env.REACT_APP_X_API_SECRET_ENURI;\r\n    if(param.bpk === 'barico') apiKey = process.env.REACT_APP_X_API_SECRET_BARICO;\r\n    try {\r\n        const res = await axios.post<AxiosResponse<any>>(baseUrl+'/premiumsCheck', param,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'X-API-SECRET' : apiKey\r\n                }\r\n            });\r\n        console.log(res.data);\r\n        if (res.status === 200) {\r\n            console.log(res.data[0].rCnt);\r\n            if(res.data[0].rCnt > 0) {\r\n                return {status : res.status, defaultpremiums : res.data[0].defaultpremiums, highpremiums : res.data[0].highpremiums};\r\n            }else {\r\n                return {status : '107', msg  : res.data[0].msg};\r\n            }\r\n        }\r\n    } catch (error) {\r\n        return {status : error , msg : '서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다.'};\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}