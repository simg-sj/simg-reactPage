{"ast":null,"code":"import axios from \"axios\";\nimport { randomCode } from \"../../components/util/common\";\nconst baseUrl = process.env.REACT_APP_BASE_URL;\nconst apiKey = process.env.REACT_APP_X_API_SECRET;\nexport async function sendMessage(phone) {\n  let code = randomCode();\n  let param = {\n    code: code,\n    cell: phone\n  };\n  try {\n    const res = await axios.post(baseUrl, param);\n    console.log(res.status);\n    if (res.status === 200) {\n      return {\n        status: res.status,\n        code: code\n      };\n    }\n  } catch (error) {\n    return {\n      status: error,\n      msg: '서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다.'\n    };\n  }\n  /*await axios.post(baseUrl, param,{\r\n     validateStatus: () =>  false,\r\n     headers : {\r\n         \"Content-Type\" : 'application/x-www-form-urlencoded',\r\n         \"X-API-SECRET\" : apiKey\r\n     },\r\n     // withCredentials: true,\r\n  }).then((res) => {\r\n     console.log('success');\r\n  }).catch((err) => {\r\n     console.log(\"fail\");\r\n     return code;\r\n  })*/\n}","map":{"version":3,"names":["axios","randomCode","baseUrl","process","env","REACT_APP_BASE_URL","apiKey","REACT_APP_X_API_SECRET","sendMessage","phone","code","param","cell","res","post","console","log","status","error","msg"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/pages/api/sendMessage.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { randomCode } from \"../../components/util/common\";\r\n\r\nconst baseUrl : any = process.env.REACT_APP_BASE_URL;\r\nconst apiKey: any = process.env.REACT_APP_X_API_SECRET;\r\nexport async function sendMessage(phone : string)  {\r\n        let code :string = randomCode();\r\n        let param = {\r\n            code : code,\r\n            cell : phone\r\n        }\r\n    try {\r\n        const res = await axios.post(baseUrl, param);\r\n        console.log(res.status)\r\n        if (res.status === 200) {\r\n            return {status : res.status, code : code};\r\n        }\r\n    } catch (error) {\r\n            return {status : error , msg : '서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다.'};\r\n    }\r\n         /*await axios.post(baseUrl, param,{\r\n            validateStatus: () =>  false,\r\n            headers : {\r\n                \"Content-Type\" : 'application/x-www-form-urlencoded',\r\n                \"X-API-SECRET\" : apiKey\r\n            },\r\n            // withCredentials: true,\r\n        }).then((res) => {\r\n            console.log('success');\r\n        }).catch((err) => {\r\n            console.log(\"fail\");\r\n            return code;\r\n        })*/\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,8BAA8B;AAEzD,MAAMC,OAAa,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB;AACpD,MAAMC,MAAW,GAAGH,OAAO,CAACC,GAAG,CAACG,sBAAsB;AACtD,OAAO,eAAeC,WAAWA,CAACC,KAAc,EAAG;EAC3C,IAAIC,IAAY,GAAGT,UAAU,CAAC,CAAC;EAC/B,IAAIU,KAAK,GAAG;IACRD,IAAI,EAAGA,IAAI;IACXE,IAAI,EAAGH;EACX,CAAC;EACL,IAAI;IACA,MAAMI,GAAG,GAAG,MAAMb,KAAK,CAACc,IAAI,CAACZ,OAAO,EAAES,KAAK,CAAC;IAC5CI,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,MAAM,CAAC;IACvB,IAAIJ,GAAG,CAACI,MAAM,KAAK,GAAG,EAAE;MACpB,OAAO;QAACA,MAAM,EAAGJ,GAAG,CAACI,MAAM;QAAEP,IAAI,EAAGA;MAAI,CAAC;IAC7C;EACJ,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACR,OAAO;MAACD,MAAM,EAAGC,KAAK;MAAGC,GAAG,EAAG;IAAoC,CAAC;EAC5E;EACK;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}