{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import{sendJoin}from\"../../pages/api/sendJoin\";import{jsx as _jsx}from\"react/jsx-runtime\";const RegisterButton=props=>{const page=useNavigate();const[msg,setMsg]=useState('');const[flag,setFlag]=useState(false);const[errMsg,setErrMsg]=useState(false);const customStyles={overlay:{backgroundColor:\"rgba(0,0,0,0.5)\"},content:{left:\"50%\",margin:\"auto\",width:\"350px\",height:\"200px\",padding:\"0\",overflow:\"hidden\",transform:\"translate(-50%,0)\"}};const onClickHandler=e=>{let{id}=e.target;let text='';if(id==='reg'){let idx;let check='';for(idx in props.info){if(props.info[idx]===''&&idx!=='cMail'&&props.info[idx]!=='Y'){check=idx;if(check==='bpk')text='업체를 선택해주세요.';if(check==='cName')text='이름을 입력해주세요.';if(check==='cCell')text='전화번호를 입력해주세요.';if(check==='cJumin')text='주민번호를 입력해주세요.';if(check==='cPost')text='주소를 입력해주세요.';if(check==='cAddr1')text='주소1을 입력해주세요.';if(check==='cAddr2')text='주소2를 입력해주세요.';if(check==='cJobN')text='직장명을 입력해주세요.';if(check==='cCarCc')text='배기량을 입력해주세요.';if(check==='cUseN')text='운전경력을 입력해주세요.';if(check==='cJobLocal')text='근무지역을 입력해주세요.';if(check==='cMoney')text='월소득을 입력해주세요.';if(check==='cDrink')text='음주여부를 입력해주세요.';if(check==='cWeekD')text='음주횟수를 입력해주세요.';if(check==='cOneD')text='주량을 입력해주세요.';if(check==='cSmoke')text='흡연여부를 입력해주세요.';if(check==='cWeekS')text='흡연량를 입력해주세요.';if(check==='cOneS')text='흡연기간을 입력해주세요.';if(check==='cHeight')text='주소를 입력해주세요.';if(check==='cWeight')text='몸무게를 입력해주세요.';if(check==='cBank')text='은행명을 입력해주세요.';if(check==='cAccount')text='계좌번호를 입력해주세요.';if(check==='cPayDt')text='납입 일자를 선택해주세요.';break;}}if(check===''){sendJoin(props.info).then(res=>{console.log(res);if(res.status===200){setFlag(true);alert(\"감사합니다!\\n이륜차 운전자 보험 가입 신청이 완료되었습니다. \\n 기입해주신 번호로 담당자가 곧 연락드릴 예정입니다\");}else{alert(res.msg);}});}else{//setErrMsg(true);\nalert(text);}}if(id==='confirm'){page('/');}};useEffect(()=>{},[props.info]);return/*#__PURE__*/_jsx(\"div\",{className:\"w-full pb-[170px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border mx-8 my-8 py-[10px] px-4 rounded-lg bg-[#0e47a1] text-white font-bold text-[14px] flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{id:'reg',className:\"w-full\",onClick:onClickHandler,children:\"\\uC2E0\\uCCAD\\uD558\\uAE30\"})})});};export default RegisterButton;","map":{"version":3,"names":["useNavigate","React","useEffect","useState","sendJoin","jsx","_jsx","RegisterButton","props","page","msg","setMsg","flag","setFlag","errMsg","setErrMsg","customStyles","overlay","backgroundColor","content","left","margin","width","height","padding","overflow","transform","onClickHandler","e","id","target","text","idx","check","info","then","res","console","log","status","alert","className","children","onClick"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/components/atoms/registerButton.tsx"],"sourcesContent":["import {useNavigate} from \"react-router-dom\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {sendJoin} from \"../../pages/api/sendJoin\";\r\nimport Modal from \"react-modal\";\r\nimport {InfoProps} from \"./inputs/carNumInput\";\r\n\r\nconst RegisterButton = (props : {info : InfoProps} ) => {\r\n    const page = useNavigate();\r\n    const [msg, setMsg] = useState<string>('');\r\n    const [flag, setFlag] = useState<boolean>(false);\r\n    const [errMsg, setErrMsg] = useState<boolean>(false);\r\n    const customStyles = {\r\n        overlay: {\r\n            backgroundColor: \"rgba(0,0,0,0.5)\",\r\n        },\r\n        content: {\r\n            left: \"50%\",\r\n            margin: \"auto\",\r\n            width: \"350px\",\r\n            height: \"200px\",\r\n            padding: \"0\",\r\n            overflow: \"hidden\",\r\n            transform : \"translate(-50%,0)\"\r\n        },\r\n    };\r\n    const onClickHandler = (e : React.MouseEvent<HTMLElement>) => {\r\n        let { id } : any = e.target;\r\n        let text = '';\r\n        if(id === 'reg'){\r\n            let idx: keyof typeof props.info;\r\n            let check : string = '';\r\n            for(idx in props.info){\r\n                if(props.info[idx] === '' && idx !== 'cMail' && props.info[idx] !== 'Y'){\r\n                    check = idx;\r\n                    if(check === 'bpk') text = '업체를 선택해주세요.';\r\n                    if(check === 'cName') text = '이름을 입력해주세요.';\r\n                    if(check === 'cCell') text = '전화번호를 입력해주세요.';\r\n                    if(check === 'cJumin') text = '주민번호를 입력해주세요.';\r\n                    if(check === 'cPost') text = '주소를 입력해주세요.';\r\n                    if(check === 'cAddr1') text = '주소1을 입력해주세요.';\r\n                    if(check === 'cAddr2') text = '주소2를 입력해주세요.';\r\n                    if(check === 'cJobN') text = '직장명을 입력해주세요.';\r\n                    if(check === 'cCarCc') text = '배기량을 입력해주세요.';\r\n                    if(check === 'cUseN') text = '운전경력을 입력해주세요.';\r\n                    if(check === 'cJobLocal') text = '근무지역을 입력해주세요.';\r\n                    if(check === 'cMoney') text = '월소득을 입력해주세요.';\r\n                    if(check === 'cDrink') text = '음주여부를 입력해주세요.';\r\n                    if(check === 'cWeekD') text = '음주횟수를 입력해주세요.';\r\n                    if(check === 'cOneD') text = '주량을 입력해주세요.';\r\n                    if(check === 'cSmoke') text = '흡연여부를 입력해주세요.';\r\n                    if(check === 'cWeekS') text = '흡연량를 입력해주세요.';\r\n                    if(check === 'cOneS') text = '흡연기간을 입력해주세요.';\r\n                    if(check === 'cHeight') text = '주소를 입력해주세요.';\r\n                    if(check === 'cWeight') text = '몸무게를 입력해주세요.';\r\n                    if(check === 'cBank') text = '은행명을 입력해주세요.';\r\n                    if(check === 'cAccount') text = '계좌번호를 입력해주세요.';\r\n                    if(check === 'cPayDt') text = '납입 일자를 선택해주세요.';\r\n                    break;\r\n                }\r\n            }\r\n            if(check === ''){\r\n                sendJoin(props.info)\r\n                    .then((res : any) => {\r\n                        console.log(res)\r\n                        if(res.status === 200){\r\n                            setFlag(true);\r\n                            alert(\"감사합니다!\\n이륜차 운전자 보험 가입 신청이 완료되었습니다. \\n 기입해주신 번호로 담당자가 곧 연락드릴 예정입니다\")\r\n                        }else {\r\n                            alert(res.msg);\r\n                        }\r\n                    })\r\n            }else {\r\n                //setErrMsg(true);\r\n                alert(text);\r\n            }\r\n        }\r\n        if(id === 'confirm'){\r\n            page('/');\r\n        }\r\n    }\r\n    useEffect(() => {\r\n\r\n    }, [props.info]);\r\n    return (\r\n        <div className='w-full pb-[170px]'>\r\n            <div className='border mx-8 my-8 py-[10px] px-4 rounded-lg bg-[#0e47a1] text-white font-bold text-[14px] flex items-center justify-center'>\r\n                <button id={'reg'} className='w-full' onClick={onClickHandler}>신청하기</button>\r\n            </div>\r\n            {/*{   flag &&\r\n                    <Modal isOpen={flag} style={customStyles}>\r\n                        <div className='border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold'>\r\n                            <div className='flex justify-center py-2'>\r\n                                가입 신청 완료\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-col justify-center text-center text-[14px] font-semibold'>\r\n                            <div className='pt-4'>\r\n                                감사합니다!\r\n                            </div>\r\n                            <div>\r\n                                이륜차 운전자 보험 가입 신청이 완료되었습니다.\r\n                            </div>\r\n                            <div>\r\n                                기입해주신 번호로 담당자가 곧 연락드릴 예정입니다\r\n                            </div>\r\n                        </div>\r\n                        <div className='fixed bottom-0 w-full flex justify-center py-2'>\r\n                            <button id={'confirm'} className='button_on' onClick={onClickHandler}>확인</button>\r\n                        </div>\r\n                    </Modal>\r\n            }*/}\r\n            {/*{   errMsg &&\r\n                <Modal isOpen={errMsg} style={customStyles}>\r\n                    <div className='border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold'>\r\n                        <div className='flex justify-center py-2'>\r\n                            잘못된 입력\r\n                        </div>\r\n                    </div>\r\n                    <div className='flex justify-center mt-8'>\r\n                        <h2>\r\n                            {msg}\r\n                        </h2>\r\n                    </div>\r\n                    <div className='fixed bottom-0 w-full flex justify-center py-2'>\r\n                        <button id={'confirm'} className='button_on' onClick={(e : React.MouseEvent<HTMLElement>)=>setErrMsg(false)}>확인</button>\r\n                    </div>\r\n                </Modal>\r\n            }*/}\r\n        </div>\r\n    )\r\n}\r\nexport default RegisterButton;"],"mappings":"AAAA,OAAQA,WAAW,KAAO,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,OAAQC,QAAQ,KAAO,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAIlD,KAAM,CAAAC,cAAc,CAAIC,KAA0B,EAAM,CACpD,KAAM,CAAAC,IAAI,CAAGT,WAAW,CAAC,CAAC,CAC1B,KAAM,CAACU,GAAG,CAAEC,MAAM,CAAC,CAAGR,QAAQ,CAAS,EAAE,CAAC,CAC1C,KAAM,CAACS,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAU,KAAK,CAAC,CAChD,KAAM,CAACW,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAU,KAAK,CAAC,CACpD,KAAM,CAAAa,YAAY,CAAG,CACjBC,OAAO,CAAE,CACLC,eAAe,CAAE,iBACrB,CAAC,CACDC,OAAO,CAAE,CACLC,IAAI,CAAE,KAAK,CACXC,MAAM,CAAE,MAAM,CACdC,KAAK,CAAE,OAAO,CACdC,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,GAAG,CACZC,QAAQ,CAAE,QAAQ,CAClBC,SAAS,CAAG,mBAChB,CACJ,CAAC,CACD,KAAM,CAAAC,cAAc,CAAIC,CAAiC,EAAK,CAC1D,GAAI,CAAEC,EAAS,CAAC,CAAGD,CAAC,CAACE,MAAM,CAC3B,GAAI,CAAAC,IAAI,CAAG,EAAE,CACb,GAAGF,EAAE,GAAK,KAAK,CAAC,CACZ,GAAI,CAAAG,GAA4B,CAChC,GAAI,CAAAC,KAAc,CAAG,EAAE,CACvB,IAAID,GAAG,GAAI,CAAAxB,KAAK,CAAC0B,IAAI,CAAC,CAClB,GAAG1B,KAAK,CAAC0B,IAAI,CAACF,GAAG,CAAC,GAAK,EAAE,EAAIA,GAAG,GAAK,OAAO,EAAIxB,KAAK,CAAC0B,IAAI,CAACF,GAAG,CAAC,GAAK,GAAG,CAAC,CACpEC,KAAK,CAAGD,GAAG,CACX,GAAGC,KAAK,GAAK,KAAK,CAAEF,IAAI,CAAG,aAAa,CACxC,GAAGE,KAAK,GAAK,OAAO,CAAEF,IAAI,CAAG,aAAa,CAC1C,GAAGE,KAAK,GAAK,OAAO,CAAEF,IAAI,CAAG,eAAe,CAC5C,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,eAAe,CAC7C,GAAGE,KAAK,GAAK,OAAO,CAAEF,IAAI,CAAG,aAAa,CAC1C,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,cAAc,CAC5C,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,cAAc,CAC5C,GAAGE,KAAK,GAAK,OAAO,CAAEF,IAAI,CAAG,cAAc,CAC3C,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,cAAc,CAC5C,GAAGE,KAAK,GAAK,OAAO,CAAEF,IAAI,CAAG,eAAe,CAC5C,GAAGE,KAAK,GAAK,WAAW,CAAEF,IAAI,CAAG,eAAe,CAChD,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,cAAc,CAC5C,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,eAAe,CAC7C,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,eAAe,CAC7C,GAAGE,KAAK,GAAK,OAAO,CAAEF,IAAI,CAAG,aAAa,CAC1C,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,eAAe,CAC7C,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,cAAc,CAC5C,GAAGE,KAAK,GAAK,OAAO,CAAEF,IAAI,CAAG,eAAe,CAC5C,GAAGE,KAAK,GAAK,SAAS,CAAEF,IAAI,CAAG,aAAa,CAC5C,GAAGE,KAAK,GAAK,SAAS,CAAEF,IAAI,CAAG,cAAc,CAC7C,GAAGE,KAAK,GAAK,OAAO,CAAEF,IAAI,CAAG,cAAc,CAC3C,GAAGE,KAAK,GAAK,UAAU,CAAEF,IAAI,CAAG,eAAe,CAC/C,GAAGE,KAAK,GAAK,QAAQ,CAAEF,IAAI,CAAG,gBAAgB,CAC9C,MACJ,CACJ,CACA,GAAGE,KAAK,GAAK,EAAE,CAAC,CACZ7B,QAAQ,CAACI,KAAK,CAAC0B,IAAI,CAAC,CACfC,IAAI,CAAEC,GAAS,EAAK,CACjBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChB,GAAGA,GAAG,CAACG,MAAM,GAAK,GAAG,CAAC,CAClB1B,OAAO,CAAC,IAAI,CAAC,CACb2B,KAAK,CAAC,mEAAmE,CAAC,CAC9E,CAAC,IAAK,CACFA,KAAK,CAACJ,GAAG,CAAC1B,GAAG,CAAC,CAClB,CACJ,CAAC,CAAC,CACV,CAAC,IAAK,CACF;AACA8B,KAAK,CAACT,IAAI,CAAC,CACf,CACJ,CACA,GAAGF,EAAE,GAAK,SAAS,CAAC,CAChBpB,IAAI,CAAC,GAAG,CAAC,CACb,CACJ,CAAC,CACDP,SAAS,CAAC,IAAM,CAEhB,CAAC,CAAE,CAACM,KAAK,CAAC0B,IAAI,CAAC,CAAC,CAChB,mBACI5B,IAAA,QAAKmC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAC9BpC,IAAA,QAAKmC,SAAS,CAAC,2HAA2H,CAAAC,QAAA,cACtIpC,IAAA,WAAQuB,EAAE,CAAE,KAAM,CAACY,SAAS,CAAC,QAAQ,CAACE,OAAO,CAAEhB,cAAe,CAAAe,QAAA,CAAC,0BAAI,CAAQ,CAAC,CAC3E,CAAC,CAyCL,CAAC,CAEd,CAAC,CACD,cAAe,CAAAnC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}