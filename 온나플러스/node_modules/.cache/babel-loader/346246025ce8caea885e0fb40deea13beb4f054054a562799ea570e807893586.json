{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import{sendJoin}from\"../../pages/api/sendJoin\";import Modal from\"react-modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterButton=props=>{const page=useNavigate();const[msg,setMsg]=useState('');const[flag,setFlag]=useState(false);const[errMsg,setErrMsg]=useState(false);const customStyles={overlay:{backgroundColor:\"rgba(0,0,0,0.5)\"},content:{left:\"50%\",margin:\"auto\",width:\"350px\",height:\"200px\",padding:\"0\",overflow:\"hidden\",transform:\"translate(-50%,0)\"}};const onClickHandler=e=>{let{id}=e.target;if(id==='reg'){let idx;let check='';for(idx in props.info){if(props.info[idx]===''&&idx!=='cMail'){check=idx;if(check==='bpk')setMsg('업체를 선택해주세요.');if(check==='cName')setMsg('이름을 입력해주세요.');if(check==='cCell')setMsg('전화번호를 입력해주세요.');if(check==='cJumin')setMsg('주민번호를 입력해주세요.');if(check==='cPost')setMsg('주소를 입력해주세요.');if(check==='cJob')setMsg('직업을 입력해주세요.');if(check==='cAddr1')setMsg('주소를 입력해주세요.');if(check==='cAddr2')setMsg('주소를 입력해주세요.');break;}}if(check===''){sendJoin(props.info).then(res=>{console.log(res);if(res.status===200){setFlag(true);}else{alert(res.msg);}});}else{setErrMsg(true);}}if(id==='confirm'){page('/');}};useEffect(()=>{},[props.info]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full pb-[170px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border mx-8 my-8 py-[10px] px-4 rounded-lg bg-[#32a087] text-white font-bold text-[14px] flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{id:'reg',className:\"w-full\",onClick:onClickHandler,children:\"\\uC2E0\\uCCAD\\uD558\\uAE30\"})}),flag&&/*#__PURE__*/_jsxs(Modal,{isOpen:flag,style:customStyles,children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-2\",children:\"\\uAC00\\uC785 \\uC2E0\\uCCAD \\uC644\\uB8CC\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"h2\",{})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 w-full flex justify-center py-2\",children:/*#__PURE__*/_jsx(\"button\",{id:'confirm',className:\"button_on\",onClick:onClickHandler,children:\"\\uD655\\uC778\"})})]}),errMsg&&/*#__PURE__*/_jsxs(Modal,{isOpen:errMsg,style:customStyles,children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-2\",children:\"\\uC798\\uBABB\\uB41C \\uC785\\uB825\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-8\",children:/*#__PURE__*/_jsx(\"h2\",{children:msg})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 w-full flex justify-center py-2\",children:/*#__PURE__*/_jsx(\"button\",{id:'confirm',className:\"button_on\",onClick:e=>setErrMsg(false),children:\"\\uD655\\uC778\"})})]})]});};export default RegisterButton;","map":{"version":3,"names":["useNavigate","React","useEffect","useState","sendJoin","Modal","jsx","_jsx","jsxs","_jsxs","RegisterButton","props","page","msg","setMsg","flag","setFlag","errMsg","setErrMsg","customStyles","overlay","backgroundColor","content","left","margin","width","height","padding","overflow","transform","onClickHandler","e","id","target","idx","check","info","then","res","console","log","status","alert","className","children","onClick","isOpen","style"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/components/atoms/registerButton.tsx"],"sourcesContent":["import {useNavigate} from \"react-router-dom\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {sendJoin} from \"../../pages/api/sendJoin\";\r\nimport Modal from \"react-modal\";\r\ntype InfoProps = {\r\n    bpk : string,\r\n    cName : string,\r\n    cCell : string,\r\n    cJumin : string,\r\n    cMail : string,\r\n    cPost : string,\r\n    cAddr1 : string,\r\n    cAddr2 : string,\r\n    cJob : string,\r\n}\r\nconst RegisterButton = (props : {info : InfoProps} ) => {\r\n    const page = useNavigate();\r\n    const [msg, setMsg] = useState<string>('');\r\n    const [flag, setFlag] = useState<boolean>(false);\r\n    const [errMsg, setErrMsg] = useState<boolean>(false);\r\n    const customStyles = {\r\n        overlay: {\r\n            backgroundColor: \"rgba(0,0,0,0.5)\",\r\n        },\r\n        content: {\r\n            left: \"50%\",\r\n            margin: \"auto\",\r\n            width: \"350px\",\r\n            height: \"200px\",\r\n            padding: \"0\",\r\n            overflow: \"hidden\",\r\n            transform : \"translate(-50%,0)\"\r\n        },\r\n    };\r\n    const onClickHandler = (e : React.MouseEvent<HTMLElement>) => {\r\n        let { id } : any = e.target;\r\n        if(id === 'reg'){\r\n            let idx: keyof typeof props.info;\r\n            let check : string = '';\r\n            for(idx in props.info){\r\n                if(props.info[idx] === '' && idx !== 'cMail'){\r\n                    check = idx;\r\n                    if(check === 'bpk') setMsg( '업체를 선택해주세요.');\r\n                    if(check === 'cName') setMsg('이름을 입력해주세요.');\r\n                    if(check === 'cCell') setMsg('전화번호를 입력해주세요.');\r\n                    if(check === 'cJumin') setMsg('주민번호를 입력해주세요.');\r\n                    if(check === 'cPost') setMsg('주소를 입력해주세요.');\r\n                    if(check === 'cJob') setMsg('직업을 입력해주세요.');\r\n                    if(check === 'cAddr1') setMsg('주소를 입력해주세요.');\r\n                    if(check === 'cAddr2') setMsg('주소를 입력해주세요.');\r\n                    break;\r\n                }\r\n            }\r\n            if(check === ''){\r\n                sendJoin(props.info)\r\n                    .then((res : any) => {\r\n                        console.log(res);\r\n                        if(res.status === 200){\r\n                            setFlag(true);\r\n                        }else {\r\n                            alert(res.msg);\r\n                        }\r\n                    })\r\n            }else {\r\n                setErrMsg(true);\r\n\r\n            }\r\n        }\r\n        if(id === 'confirm'){\r\n            page('/');\r\n        }\r\n    }\r\n    useEffect(() => {\r\n\r\n    }, [props.info]);\r\n    return (\r\n        <div className='w-full pb-[170px]'>\r\n            <div className='border mx-8 my-8 py-[10px] px-4 rounded-lg bg-[#32a087] text-white font-bold text-[14px] flex items-center justify-center'>\r\n                <button id={'reg'} className='w-full' onClick={onClickHandler}>신청하기</button>\r\n            </div>\r\n            {   flag &&\r\n                    <Modal isOpen={flag} style={customStyles}>\r\n                        <div className='border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold'>\r\n                            <div className='flex justify-center py-2'>\r\n                                가입 신청 완료\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex justify-center'>\r\n                            <h2>\r\n                                \r\n                            </h2>\r\n                        </div>\r\n                        <div className='fixed bottom-0 w-full flex justify-center py-2'>\r\n                            <button id={'confirm'} className='button_on' onClick={onClickHandler}>확인</button>\r\n                        </div>\r\n                    </Modal>\r\n            }\r\n            {   errMsg &&\r\n                <Modal isOpen={errMsg} style={customStyles}>\r\n                    <div className='border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold'>\r\n                        <div className='flex justify-center py-2'>\r\n                            잘못된 입력\r\n                        </div>\r\n                    </div>\r\n                    <div className='flex justify-center mt-8'>\r\n                        <h2>\r\n                            {msg}\r\n                        </h2>\r\n                    </div>\r\n                    <div className='fixed bottom-0 w-full flex justify-center py-2'>\r\n                        <button id={'confirm'} className='button_on' onClick={(e : React.MouseEvent<HTMLElement>)=>setErrMsg(false)}>확인</button>\r\n                    </div>\r\n                </Modal>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default RegisterButton;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}