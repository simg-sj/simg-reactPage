{"ast":null,"code":"import axios from\"axios\";import{randomCode}from\"../../components/util/common\";const baseUrl=process.env.REACT_APP_BASE_URL;const apiKey=process.env.REACT_APP_X_API_SECRET;export async function sendMessage(phone){let code=randomCode();let param={code:code,cell:phone};try{const res=await axios.post(baseUrl,param);console.log(res.status);if(res.status===200){return{status:res.status,code:code};}}catch(error){return{status:error,msg:'서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다.'};}/*await axios.post(baseUrl, param,{\r\n            validateStatus: () =>  false,\r\n            headers : {\r\n                \"Content-Type\" : 'application/x-www-form-urlencoded',\r\n                \"X-API-SECRET\" : apiKey\r\n            },\r\n            // withCredentials: true,\r\n        }).then((res) => {\r\n            console.log('success');\r\n        }).catch((err) => {\r\n            console.log(\"fail\");\r\n            return code;\r\n        })*/}","map":{"version":3,"names":["axios","randomCode","baseUrl","process","env","REACT_APP_BASE_URL","apiKey","REACT_APP_X_API_SECRET","sendMessage","phone","code","param","cell","res","post","console","log","status","error","msg"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/pages/api/sendMessage.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { randomCode } from \"../../components/util/common\";\r\n\r\nconst baseUrl : any = process.env.REACT_APP_BASE_URL;\r\nconst apiKey: any = process.env.REACT_APP_X_API_SECRET;\r\nexport async function sendMessage(phone : string)  {\r\n        let code :string = randomCode();\r\n        let param = {\r\n            code : code,\r\n            cell : phone\r\n        }\r\n    try {\r\n        const res = await axios.post(baseUrl, param);\r\n        console.log(res.status)\r\n        if (res.status === 200) {\r\n            return {status : res.status, code : code};\r\n        }\r\n    } catch (error) {\r\n            return {status : error , msg : '서버오류 : [ 1877-3006 ] 고객센터에 문의바랍니다.'};\r\n    }\r\n         /*await axios.post(baseUrl, param,{\r\n            validateStatus: () =>  false,\r\n            headers : {\r\n                \"Content-Type\" : 'application/x-www-form-urlencoded',\r\n                \"X-API-SECRET\" : apiKey\r\n            },\r\n            // withCredentials: true,\r\n        }).then((res) => {\r\n            console.log('success');\r\n        }).catch((err) => {\r\n            console.log(\"fail\");\r\n            return code;\r\n        })*/\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,8BAA8B,CAEzD,KAAM,CAAAC,OAAa,CAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,CACpD,KAAM,CAAAC,MAAW,CAAGH,OAAO,CAACC,GAAG,CAACG,sBAAsB,CACtD,MAAO,eAAe,CAAAC,WAAWA,CAACC,KAAc,CAAG,CAC3C,GAAI,CAAAC,IAAY,CAAGT,UAAU,CAAC,CAAC,CAC/B,GAAI,CAAAU,KAAK,CAAG,CACRD,IAAI,CAAGA,IAAI,CACXE,IAAI,CAAGH,KACX,CAAC,CACL,GAAI,CACA,KAAM,CAAAI,GAAG,CAAG,KAAM,CAAAb,KAAK,CAACc,IAAI,CAACZ,OAAO,CAAES,KAAK,CAAC,CAC5CI,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,MAAM,CAAC,CACvB,GAAIJ,GAAG,CAACI,MAAM,GAAK,GAAG,CAAE,CACpB,MAAO,CAACA,MAAM,CAAGJ,GAAG,CAACI,MAAM,CAAEP,IAAI,CAAGA,IAAI,CAAC,CAC7C,CACJ,CAAE,MAAOQ,KAAK,CAAE,CACR,MAAO,CAACD,MAAM,CAAGC,KAAK,CAAGC,GAAG,CAAG,oCAAoC,CAAC,CAC5E,CACK;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}