{"ast":null,"code":"import axios from \"axios\";\nimport { randomCode } from \"../../components/util/common\";\nconst baseUrl = process.env.REACT_APP_BASE_URL;\nconst apiKey = process.env.REACT_APP_X_API_SECRET;\nexport async function sendMessage(phone) {\n  let code = randomCode();\n  let param = {\n    code: code,\n    cell: phone\n  };\n  try {\n    const res = await axios.post(baseUrl, param);\n    if (res.data.error === 0) {\n      console.log(res);\n      return res.data;\n    } else if (res.data.error === 2) {\n      console.log(res);\n      alert(res.data);\n    }\n  } catch (error) {\n    console.log(error);\n    alert(error);\n  }\n  /*await axios.post(baseUrl, param,{\r\n     validateStatus: () =>  false,\r\n     headers : {\r\n         \"Content-Type\" : 'application/x-www-form-urlencoded',\r\n         \"X-API-SECRET\" : apiKey\r\n     },\r\n     // withCredentials: true,\r\n  }).then((res) => {\r\n     console.log('success');\r\n  }).catch((err) => {\r\n     console.log(\"fail\");\r\n     return code;\r\n  })*/\n}","map":{"version":3,"names":["axios","randomCode","baseUrl","process","env","REACT_APP_BASE_URL","apiKey","REACT_APP_X_API_SECRET","sendMessage","phone","code","param","cell","res","post","data","error","console","log","alert"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/pages/api/sendMessage.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { randomCode } from \"../../components/util/common\";\r\n\r\nconst baseUrl : any = process.env.REACT_APP_BASE_URL;\r\nconst apiKey: any = process.env.REACT_APP_X_API_SECRET;\r\nexport async function sendMessage(phone : string)  {\r\n        let code = randomCode();\r\n        let param = {\r\n            code : code,\r\n            cell : phone\r\n        }\r\n    try {\r\n        const res = await axios.post(baseUrl, param);\r\n        if (res.data.error === 0) {\r\n            console.log(res);\r\n            return res.data\r\n        } else if (res.data.error === 2) {\r\n            console.log(res);\r\n            alert(res.data);\r\n        }\r\n    } catch (error) {\r\n            console.log(error)\r\n        alert(error);\r\n    }\r\n         /*await axios.post(baseUrl, param,{\r\n            validateStatus: () =>  false,\r\n            headers : {\r\n                \"Content-Type\" : 'application/x-www-form-urlencoded',\r\n                \"X-API-SECRET\" : apiKey\r\n            },\r\n            // withCredentials: true,\r\n        }).then((res) => {\r\n            console.log('success');\r\n        }).catch((err) => {\r\n            console.log(\"fail\");\r\n            return code;\r\n        })*/\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,8BAA8B;AAEzD,MAAMC,OAAa,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB;AACpD,MAAMC,MAAW,GAAGH,OAAO,CAACC,GAAG,CAACG,sBAAsB;AACtD,OAAO,eAAeC,WAAWA,CAACC,KAAc,EAAG;EAC3C,IAAIC,IAAI,GAAGT,UAAU,CAAC,CAAC;EACvB,IAAIU,KAAK,GAAG;IACRD,IAAI,EAAGA,IAAI;IACXE,IAAI,EAAGH;EACX,CAAC;EACL,IAAI;IACA,MAAMI,GAAG,GAAG,MAAMb,KAAK,CAACc,IAAI,CAACZ,OAAO,EAAES,KAAK,CAAC;IAC5C,IAAIE,GAAG,CAACE,IAAI,CAACC,KAAK,KAAK,CAAC,EAAE;MACtBC,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC;MAChB,OAAOA,GAAG,CAACE,IAAI;IACnB,CAAC,MAAM,IAAIF,GAAG,CAACE,IAAI,CAACC,KAAK,KAAK,CAAC,EAAE;MAC7BC,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC;MAChBM,KAAK,CAACN,GAAG,CAACE,IAAI,CAAC;IACnB;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtBG,KAAK,CAACH,KAAK,CAAC;EAChB;EACK;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}