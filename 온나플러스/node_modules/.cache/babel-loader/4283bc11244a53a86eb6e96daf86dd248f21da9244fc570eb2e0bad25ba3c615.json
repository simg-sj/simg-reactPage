{"ast":null,"code":"// 보험 나이 구하는 함수, 매개변수는 생년월일 8자리 문자열\nexport function calculateInsAge(birth){const year=birth.substring(0,4);const mth=birth.substring(4,6);const dt=birth.substring(6,8);let today=new Date();// 보험나이는 생일에 +1일 -6개월을 하고 계산한 만나이와 동일함\nlet birthday=new Date(\"\".concat(year,\"-\").concat(mth,\"-\").concat(dt));let insBirthday=birthday;insBirthday.setDate(birthday.getDate()+1);insBirthday.setMonth(birthday.getMonth()-6);const insYr=insBirthday.getFullYear();const insMth=insBirthday.getMonth()+1;const insDt=insBirthday.getDate();let insAge=today.getFullYear()-insYr;// 월 비교\nif(insMth>today.getMonth()+2){insAge--;}// 일 비교\nelse if(insMth==today.getMonth()+1&&insDt>today.getDate()){insAge--;}return insAge.toString();}","map":{"version":3,"names":["calculateInsAge","birth","year","substring","mth","dt","today","Date","birthday","concat","insBirthday","setDate","getDate","setMonth","getMonth","insYr","getFullYear","insMth","insDt","insAge","toString"],"sources":["D:/IdeaProjects/connect_onna/src/pages/api/calculateInsAge.tsx"],"sourcesContent":["// 보험 나이 구하는 함수, 매개변수는 생년월일 8자리 문자열\r\nexport function calculateInsAge(birth : string) {\r\n    const year = birth.substring(0, 4);\r\n    const mth = birth.substring(4, 6);\r\n    const dt = birth.substring(6, 8);\r\n    let today = new Date();\r\n\r\n    // 보험나이는 생일에 +1일 -6개월을 하고 계산한 만나이와 동일함\r\n    let birthday = new Date(`${year}-${mth}-${dt}`);\r\n    let insBirthday = birthday;\r\n    insBirthday.setDate(birthday.getDate()+1)\r\n    insBirthday.setMonth(birthday.getMonth()-6);\r\n    const insYr = insBirthday.getFullYear();\r\n    const insMth = insBirthday.getMonth()+1;\r\n    const insDt = insBirthday.getDate();\r\n\r\n    let insAge = today.getFullYear() - insYr;\r\n\r\n    // 월 비교\r\n    if(insMth > (today.getMonth() + 2)){\r\n        insAge--;\r\n    }\r\n    // 일 비교\r\n    else if(insMth == (today.getMonth() + 1) && insDt > today.getDate()){\r\n        insAge--;\r\n    }\r\n\r\n    return insAge.toString();\r\n}"],"mappings":"AAAA;AACA,MAAO,SAAS,CAAAA,eAAeA,CAACC,KAAc,CAAE,CAC5C,KAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CAClC,KAAM,CAAAC,GAAG,CAAGH,KAAK,CAACE,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CACjC,KAAM,CAAAE,EAAE,CAAGJ,KAAK,CAACE,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CAChC,GAAI,CAAAG,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAEtB;AACA,GAAI,CAAAC,QAAQ,CAAG,GAAI,CAAAD,IAAI,IAAAE,MAAA,CAAIP,IAAI,MAAAO,MAAA,CAAIL,GAAG,MAAAK,MAAA,CAAIJ,EAAE,CAAE,CAAC,CAC/C,GAAI,CAAAK,WAAW,CAAGF,QAAQ,CAC1BE,WAAW,CAACC,OAAO,CAACH,QAAQ,CAACI,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CACzCF,WAAW,CAACG,QAAQ,CAACL,QAAQ,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAC3C,KAAM,CAAAC,KAAK,CAAGL,WAAW,CAACM,WAAW,CAAC,CAAC,CACvC,KAAM,CAAAC,MAAM,CAAGP,WAAW,CAACI,QAAQ,CAAC,CAAC,CAAC,CAAC,CACvC,KAAM,CAAAI,KAAK,CAAGR,WAAW,CAACE,OAAO,CAAC,CAAC,CAEnC,GAAI,CAAAO,MAAM,CAAGb,KAAK,CAACU,WAAW,CAAC,CAAC,CAAGD,KAAK,CAExC;AACA,GAAGE,MAAM,CAAIX,KAAK,CAACQ,QAAQ,CAAC,CAAC,CAAG,CAAE,CAAC,CAC/BK,MAAM,EAAE,CACZ,CACA;AAAA,IACK,IAAGF,MAAM,EAAKX,KAAK,CAACQ,QAAQ,CAAC,CAAC,CAAG,CAAE,EAAII,KAAK,CAAGZ,KAAK,CAACM,OAAO,CAAC,CAAC,CAAC,CAChEO,MAAM,EAAE,CACZ,CAEA,MAAO,CAAAA,MAAM,CAACC,QAAQ,CAAC,CAAC,CAC5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}