{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import{sendJoin}from\"../../pages/api/sendJoin\";import{jsx as _jsx}from\"react/jsx-runtime\";const RegisterButton=props=>{const page=useNavigate();const[msg,setMsg]=useState('');const[flag,setFlag]=useState(false);const[errMsg,setErrMsg]=useState(false);const customStyles={overlay:{backgroundColor:\"rgba(0,0,0,0.5)\"},content:{left:\"50%\",margin:\"auto\",width:\"350px\",height:\"200px\",padding:\"0\",overflow:\"hidden\",transform:\"translate(-50%,0)\"}};const onClickHandler=e=>{let{id}=e.target;let text='';if(id==='reg'){let idx;let check='';for(idx in props.info){console.log(idx);if(props.info[idx]===''||props.info[idx]===false){check=idx;console.log(props.info[idx]);console.log(check);if(check==='cName')text='이름을 입력해주세요.';if(check==='cJumin')text='주민번호를 입력해주세요.';if(check==='cCell')text='핸드폰번호를 입력해주세요.';if(check==='cCheck')text='필수 확인사항, 약관에 동의해주세요.';break;}/*if(props.info[idx] === '' && idx !== 'cMail' && props.info[idx] !== 'Y'){\r\n                    check = idx;\r\n                    if(check === 'bpk') text = '업체를 선택해주세요.';\r\n                    if(check === 'cName') text = '이름을 입력해주세요.';\r\n                    if(check === 'cCell') text = '전화번호를 입력해주세요.';\r\n                    if(check === 'cJumin') text = '주민번호를 입력해주세요.';\r\n                    if(check === 'cPost') text = '주소를 입력해주세요.';\r\n                    if(check === 'cAddr1') text = '주소1을 입력해주세요.';\r\n                    if(check === 'cAddr2') text = '주소2를 입력해주세요.';\r\n                    if(check === 'cJobN') text = '직장명을 입력해주세요.';\r\n                    if(check === 'cCarCc') text = '배기량을 입력해주세요.';\r\n                    if(check === 'cUseN') text = '운전경력을 입력해주세요.';\r\n                    if(check === 'cJobLocal') text = '근무지역을 입력해주세요.';\r\n                    if(check === 'cMoney') text = '월소득을 입력해주세요.';\r\n                    if(check === 'cDrink') text = '음주여부를 입력해주세요.';\r\n                    if(check === 'cWeekD') text = '음주횟수를 입력해주세요.';\r\n                    if(check === 'cOneD') text = '주량을 입력해주세요.';\r\n                    if(check === 'cSmoke') text = '흡연여부를 입력해주세요.';\r\n                    if(check === 'cWeekS') text = '흡연량를 입력해주세요.';\r\n                    if(check === 'cOneS') text = '흡연기간을 입력해주세요.';\r\n                    if(check === 'cHeight') text = '주소를 입력해주세요.';\r\n                    if(check === 'cWeight') text = '몸무게를 입력해주세요.';\r\n                    if(check === 'cBank') text = '은행명을 입력해주세요.';\r\n                    if(check === 'cAccount') text = '계좌번호를 입력해주세요.';\r\n                    if(check === 'cPayDt') text = '납입 일자를 선택해주세요.';\r\n                    break;\r\n                }*/}if(check===''){if(props.info.bpk==='onna'||props.info.bpk==='enuri'||props.info.bpk==='barico'){sendJoin(props.info).then(res=>{console.log(res);if(res.status===200){setFlag(true);alert(\"감사합니다!\\n이륜차 운전자 보험 가입 신청이 완료되었습니다. \\n 기입해주신 번호로 담당자가 곧 연락드릴 예정입니다\");}else{alert(res.msg);}});}else{text='URL 주소를 확인해주세요.';alert(text);}}else{alert(text);}}if(id==='confirm'){page('/');}};useEffect(()=>{},[props.info]);return/*#__PURE__*/_jsx(\"div\",{className:\"w-full pb-[170px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border mx-8 my-8 py-[10px] px-4 rounded-lg bg-[#0e47a1] text-white font-bold text-[14px] flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{id:'reg',className:\"w-full\",onClick:onClickHandler,children:\"\\uC2E0\\uCCAD\\uD558\\uAE30\"})})});};export default RegisterButton;","map":{"version":3,"names":["useNavigate","React","useEffect","useState","sendJoin","jsx","_jsx","RegisterButton","props","page","msg","setMsg","flag","setFlag","errMsg","setErrMsg","customStyles","overlay","backgroundColor","content","left","margin","width","height","padding","overflow","transform","onClickHandler","e","id","target","text","idx","check","info","console","log","bpk","then","res","status","alert","className","children","onClick"],"sources":["C:/Users/김기덕/IdeaProjects/connect_onna/src/components/atoms/registerButton.tsx"],"sourcesContent":["import {useNavigate} from \"react-router-dom\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {sendJoin} from \"../../pages/api/sendJoin\";\r\nimport Modal from \"react-modal\";\r\nimport {InfoProps} from \"./inputs/carNumInput\";\r\n\r\nconst RegisterButton = (props : {info : InfoProps} ) => {\r\n    const page = useNavigate();\r\n    const [msg, setMsg] = useState<string>('');\r\n    const [flag, setFlag] = useState<boolean>(false);\r\n    const [errMsg, setErrMsg] = useState<boolean>(false);\r\n    const customStyles = {\r\n        overlay: {\r\n            backgroundColor: \"rgba(0,0,0,0.5)\",\r\n        },\r\n        content: {\r\n            left: \"50%\",\r\n            margin: \"auto\",\r\n            width: \"350px\",\r\n            height: \"200px\",\r\n            padding: \"0\",\r\n            overflow: \"hidden\",\r\n            transform : \"translate(-50%,0)\"\r\n        },\r\n    };\r\n    const onClickHandler = (e : React.MouseEvent<HTMLElement>) => {\r\n        let { id } : any = e.target;\r\n        let text = '';\r\n        if(id === 'reg'){\r\n            let idx: keyof typeof props.info;\r\n            let check : string = '';\r\n            for(idx in props.info){\r\n                console.log(idx);\r\n                if(props.info[idx] === '' || props.info[idx] === false){\r\n                    check = idx;\r\n                    console.log(props.info[idx])\r\n                    console.log(check)\r\n                    if(check === 'cName') text = '이름을 입력해주세요.';\r\n                    if(check === 'cJumin') text = '주민번호를 입력해주세요.';\r\n                    if(check === 'cCell') text = '핸드폰번호를 입력해주세요.';\r\n                    if(check === 'cCheck') text = '필수 확인사항, 약관에 동의해주세요.';\r\n                    break;\r\n                }\r\n                /*if(props.info[idx] === '' && idx !== 'cMail' && props.info[idx] !== 'Y'){\r\n                    check = idx;\r\n                    if(check === 'bpk') text = '업체를 선택해주세요.';\r\n                    if(check === 'cName') text = '이름을 입력해주세요.';\r\n                    if(check === 'cCell') text = '전화번호를 입력해주세요.';\r\n                    if(check === 'cJumin') text = '주민번호를 입력해주세요.';\r\n                    if(check === 'cPost') text = '주소를 입력해주세요.';\r\n                    if(check === 'cAddr1') text = '주소1을 입력해주세요.';\r\n                    if(check === 'cAddr2') text = '주소2를 입력해주세요.';\r\n                    if(check === 'cJobN') text = '직장명을 입력해주세요.';\r\n                    if(check === 'cCarCc') text = '배기량을 입력해주세요.';\r\n                    if(check === 'cUseN') text = '운전경력을 입력해주세요.';\r\n                    if(check === 'cJobLocal') text = '근무지역을 입력해주세요.';\r\n                    if(check === 'cMoney') text = '월소득을 입력해주세요.';\r\n                    if(check === 'cDrink') text = '음주여부를 입력해주세요.';\r\n                    if(check === 'cWeekD') text = '음주횟수를 입력해주세요.';\r\n                    if(check === 'cOneD') text = '주량을 입력해주세요.';\r\n                    if(check === 'cSmoke') text = '흡연여부를 입력해주세요.';\r\n                    if(check === 'cWeekS') text = '흡연량를 입력해주세요.';\r\n                    if(check === 'cOneS') text = '흡연기간을 입력해주세요.';\r\n                    if(check === 'cHeight') text = '주소를 입력해주세요.';\r\n                    if(check === 'cWeight') text = '몸무게를 입력해주세요.';\r\n                    if(check === 'cBank') text = '은행명을 입력해주세요.';\r\n                    if(check === 'cAccount') text = '계좌번호를 입력해주세요.';\r\n                    if(check === 'cPayDt') text = '납입 일자를 선택해주세요.';\r\n                    break;\r\n                }*/\r\n            }\r\n            if(check === '') {\r\n                if (props.info.bpk === 'onna' || props.info.bpk === 'enuri' || props.info.bpk === 'barico') {\r\n                    sendJoin(props.info)\r\n                        .then((res: any) => {\r\n                            console.log(res)\r\n                            if (res.status === 200) {\r\n                                setFlag(true);\r\n                                alert(\"감사합니다!\\n이륜차 운전자 보험 가입 신청이 완료되었습니다. \\n 기입해주신 번호로 담당자가 곧 연락드릴 예정입니다\")\r\n                            } else {\r\n                                alert(res.msg);\r\n                            }\r\n                        })\r\n                } else {\r\n                    text = 'URL 주소를 확인해주세요.';\r\n                    alert(text);\r\n                }\r\n            }else {\r\n                alert(text);\r\n            }\r\n        }\r\n        if(id === 'confirm'){\r\n            page('/');\r\n        }\r\n    }\r\n    useEffect(() => {\r\n\r\n    }, [props.info]);\r\n    return (\r\n        <div className='w-full pb-[170px]'>\r\n            <div className='border mx-8 my-8 py-[10px] px-4 rounded-lg bg-[#0e47a1] text-white font-bold text-[14px] flex items-center justify-center'>\r\n                <button id={'reg'} className='w-full' onClick={onClickHandler}>신청하기</button>\r\n            </div>\r\n            {/*{   flag &&\r\n                    <Modal isOpen={flag} style={customStyles}>\r\n                        <div className='border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold'>\r\n                            <div className='flex justify-center py-2'>\r\n                                가입 신청 완료\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex-col justify-center text-center text-[14px] font-semibold'>\r\n                            <div className='pt-4'>\r\n                                감사합니다!\r\n                            </div>\r\n                            <div>\r\n                                이륜차 운전자 보험 가입 신청이 완료되었습니다.\r\n                            </div>\r\n                            <div>\r\n                                기입해주신 번호로 담당자가 곧 연락드릴 예정입니다\r\n                            </div>\r\n                        </div>\r\n                        <div className='fixed bottom-0 w-full flex justify-center py-2'>\r\n                            <button id={'confirm'} className='button_on' onClick={onClickHandler}>확인</button>\r\n                        </div>\r\n                    </Modal>\r\n            }*/}\r\n            {/*{   errMsg &&\r\n                <Modal isOpen={errMsg} style={customStyles}>\r\n                    <div className='border-b bg-[#f6fbf7] border-b-[#157b4b] font-bold'>\r\n                        <div className='flex justify-center py-2'>\r\n                            잘못된 입력\r\n                        </div>\r\n                    </div>\r\n                    <div className='flex justify-center mt-8'>\r\n                        <h2>\r\n                            {msg}\r\n                        </h2>\r\n                    </div>\r\n                    <div className='fixed bottom-0 w-full flex justify-center py-2'>\r\n                        <button id={'confirm'} className='button_on' onClick={(e : React.MouseEvent<HTMLElement>)=>setErrMsg(false)}>확인</button>\r\n                    </div>\r\n                </Modal>\r\n            }*/}\r\n        </div>\r\n    )\r\n}\r\nexport default RegisterButton;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}