{"ast":null,"code":"import React,{useState}from'react';import{Document,Page,pdfjs}from'react-pdf';import axiosInstans from\"../api/axiosInstans\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";pdfjs.GlobalWorkerOptions.workerSrc=\"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version,\"/pdf.worker.js\");export default function pdfView(_ref){let{setOpen,pdfUrl}=_ref;// eslint-disable-next-line react-hooks/rules-of-hooks\nconst[numPages,setNumPages]=useState(null);// eslint-disable-next-line react-hooks/rules-of-hooks\nconst[pageNumber,setPageNumber]=useState(1);const onDocumentLoadSuccess=_ref2=>{let{numPages}=_ref2;setNumPages(numPages);};const changePage=offset=>{setPageNumber(prevPageNumber=>prevPageNumber+offset);};const previousPage=()=>{changePage(-1);};const nextPage=()=>{changePage(1);};const downloadPdf=async()=>{try{console.log(\"@@\");await axiosInstans.get('/download-pdf');}catch(error){}};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-full  flex_center flex-col bg-white\",children:[/*#__PURE__*/_jsx(Document,{file:pdfUrl,onLoadSuccess:onDocumentLoadSuccess,children:/*#__PURE__*/_jsx(Page,{pageNumber:pageNumber})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col absolute bottom-0 bg-white w-full pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex_center space-x-6\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:pageNumber<=1,onClick:previousPage,children:\"\\uC774\\uC804 \\uD398\\uC774\\uC9C0\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Page \",pageNumber,\" of \",numPages]}),/*#__PURE__*/_jsx(\"button\",{disabled:pageNumber>=(numPages||1),onClick:nextPage,children:\"\\uB2E4\\uC74C \\uD398\\uC774\\uC9C0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-6 flex_center mt-4 text-white\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button-color\",onClick:event=>setOpen(false),children:\"\\uB2EB\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-color\",onClick:downloadPdf,children:\"\\uC800\\uC7A5\"})]})]})]});};","map":{"version":3,"names":["React","useState","Document","Page","pdfjs","axiosInstans","jsx","_jsx","jsxs","_jsxs","GlobalWorkerOptions","workerSrc","concat","version","pdfView","_ref","setOpen","pdfUrl","numPages","setNumPages","pageNumber","setPageNumber","onDocumentLoadSuccess","_ref2","changePage","offset","prevPageNumber","previousPage","nextPage","downloadPdf","console","log","get","error","className","children","file","onLoadSuccess","disabled","onClick","event"],"sources":["D:/IdeaProjects/valuemap/src/component/pdfView.tsx"],"sourcesContent":["import React, {SetStateAction, useState} from 'react';\r\nimport { Document, Page, pdfjs  } from 'react-pdf';\r\nimport axiosInstans from \"../api/axiosInstans\";\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\ntype Props = {\r\n    pdfUrl: string;\r\n    setOpen : React.Dispatch<SetStateAction<boolean>>;\r\n};\r\n\r\n\r\nexport default function pdfView ({setOpen, pdfUrl } : Props)  {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    const [numPages, setNumPages] = useState<number | null>(null);\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    const [pageNumber, setPageNumber] = useState<number>(1);\r\n\r\n    const onDocumentLoadSuccess = ({ numPages } : any) => {\r\n        setNumPages(numPages);\r\n    };\r\n\r\n\r\n    const changePage = (offset: number) => {\r\n        setPageNumber(prevPageNumber => prevPageNumber + offset);\r\n    };\r\n\r\n    const previousPage = () => {\r\n        changePage(-1);\r\n    };\r\n\r\n    const nextPage = () => {\r\n        changePage(1);\r\n    };\r\n    const downloadPdf = async() => {\r\n        try{\r\n            console.log(\"@@\")\r\n            await axiosInstans.get('/download-pdf');\r\n        }catch(error){\r\n\r\n        }\r\n    }\r\n    return (\r\n        <div className='w-full h-full  flex_center flex-col bg-white'>\r\n                <Document\r\n                    file={pdfUrl}\r\n                    onLoadSuccess={onDocumentLoadSuccess}\r\n                >\r\n                    <Page pageNumber={pageNumber}/>\r\n                </Document>\r\n            <div className='flex flex-col absolute bottom-0 bg-white w-full pb-4'>\r\n                <div className='flex_center space-x-6'>\r\n                    <button disabled={pageNumber <= 1} onClick={previousPage}>\r\n                        이전 페이지\r\n                    </button>\r\n                    <p>Page {pageNumber} of {numPages}</p>\r\n                    <button disabled={pageNumber >= (numPages || 1)} onClick={nextPage}>\r\n                        다음 페이지\r\n                    </button>\r\n                </div>\r\n                <div className='flex space-x-6 flex_center mt-4 text-white'>\r\n                    <button className='button-color' onClick={(event : React.MouseEvent<HTMLButtonElement>) => setOpen(false)}>닫기</button>\r\n                    <button className='button-color' onClick={downloadPdf}>저장</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAmBC,QAAQ,KAAO,OAAO,CACrD,OAASC,QAAQ,CAAEC,IAAI,CAAEC,KAAK,KAAS,WAAW,CAClD,MAAO,CAAAC,YAAY,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC/CL,KAAK,CAACM,mBAAmB,CAACC,SAAS,4CAAAC,MAAA,CAA8CR,KAAK,CAACS,OAAO,kBAAgB,CAO9G,cAAe,SAAS,CAAAC,OAAOA,CAAAC,IAAA,CAA+B,IAA7B,CAACC,OAAO,CAAEC,MAAe,CAAC,CAAAF,IAAA,CACvD;AACA,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAgB,IAAI,CAAC,CAC7D;AACA,KAAM,CAACmB,UAAU,CAAEC,aAAa,CAAC,CAAGpB,QAAQ,CAAS,CAAC,CAAC,CAEvD,KAAM,CAAAqB,qBAAqB,CAAGC,KAAA,EAAwB,IAAvB,CAAEL,QAAe,CAAC,CAAAK,KAAA,CAC7CJ,WAAW,CAACD,QAAQ,CAAC,CACzB,CAAC,CAGD,KAAM,CAAAM,UAAU,CAAIC,MAAc,EAAK,CACnCJ,aAAa,CAACK,cAAc,EAAIA,cAAc,CAAGD,MAAM,CAAC,CAC5D,CAAC,CAED,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACvBH,UAAU,CAAC,CAAC,CAAC,CAAC,CAClB,CAAC,CAED,KAAM,CAAAI,QAAQ,CAAGA,CAAA,GAAM,CACnBJ,UAAU,CAAC,CAAC,CAAC,CACjB,CAAC,CACD,KAAM,CAAAK,WAAW,CAAG,KAAAA,CAAA,GAAW,CAC3B,GAAG,CACCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC,CACjB,KAAM,CAAA1B,YAAY,CAAC2B,GAAG,CAAC,eAAe,CAAC,CAC3C,CAAC,MAAMC,KAAK,CAAC,CAEb,CACJ,CAAC,CACD,mBACIxB,KAAA,QAAKyB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eACrD5B,IAAA,CAACL,QAAQ,EACLkC,IAAI,CAAEnB,MAAO,CACboB,aAAa,CAAEf,qBAAsB,CAAAa,QAAA,cAErC5B,IAAA,CAACJ,IAAI,EAACiB,UAAU,CAAEA,UAAW,CAAC,CAAC,CACzB,CAAC,cACfX,KAAA,QAAKyB,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACjE1B,KAAA,QAAKyB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAClC5B,IAAA,WAAQ+B,QAAQ,CAAElB,UAAU,EAAI,CAAE,CAACmB,OAAO,CAAEZ,YAAa,CAAAQ,QAAA,CAAC,iCAE1D,CAAQ,CAAC,cACT1B,KAAA,MAAA0B,QAAA,EAAG,OAAK,CAACf,UAAU,CAAC,MAAI,CAACF,QAAQ,EAAI,CAAC,cACtCX,IAAA,WAAQ+B,QAAQ,CAAElB,UAAU,GAAKF,QAAQ,EAAI,CAAC,CAAE,CAACqB,OAAO,CAAEX,QAAS,CAAAO,QAAA,CAAC,iCAEpE,CAAQ,CAAC,EACR,CAAC,cACN1B,KAAA,QAAKyB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACvD5B,IAAA,WAAQ2B,SAAS,CAAC,cAAc,CAACK,OAAO,CAAGC,KAA2C,EAAKxB,OAAO,CAAC,KAAK,CAAE,CAAAmB,QAAA,CAAC,cAAE,CAAQ,CAAC,cACtH5B,IAAA,WAAQ2B,SAAS,CAAC,cAAc,CAACK,OAAO,CAAEV,WAAY,CAAAM,QAAA,CAAC,cAAE,CAAQ,CAAC,EACjE,CAAC,EACL,CAAC,EACL,CAAC,CAEd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}