{"ast":null,"code":"import React,{useRef,useState}from'react';import{Swiper,SwiperSlide}from'swiper/react';import'swiper/css';import{Mousewheel}from'swiper/modules';import{cls}from\"../hooks/utils\";import ClockIcon from'../asset/images/clock-regular.svg';import XIcon from'../asset/images/xmark-solid.svg';import{useController}from'react-hook-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Time(_ref){let{control,name}=_ref;const{field}=useController({name,control,rules:{required:true}});const TIME_HOURS=Array.from({length:24},(_,i)=>i+1);const inputRef=useRef(null);const[hours,setHours]=useState(0);const[open,setOpen]=useState(false);const onClickHandler=hour=>{let temp=\"\".concat(String(hour).padStart(2,'0'),\":00\");if(inputRef.current)field.onChange(temp);setOpen(false);};const getTimeDisplay=hour=>\"\".concat(String(hour).padStart(2,'0'),\" : 00\");return/*#__PURE__*/_jsxs(\"div\",{className:\"w-[160px] h-[35px] relative border rounded-md mt-2 border-[#000000]/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center py-2 px-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"w-[110px] ml-[5px] text-[12px] font-[400]\",ref:inputRef,type:\"text\",placeholder:name==='strTime'?'출발 시간':'도착 시간',name:field.name,value:field.value,readOnly:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ml-[5px]\",onClick:()=>setOpen(!open),children:!open?/*#__PURE__*/_jsx(\"img\",{src:ClockIcon,width:'18px',alt:'clock'}):/*#__PURE__*/_jsx(\"img\",{className:\"ml-1\",src:XIcon,width:'14px',alt:'xmark'})})]}),open&&/*#__PURE__*/_jsxs(\"div\",{className:\"border w-[160px] shadow-xl rounded-xl absolute top-[40px] bg-white z-30\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-[12px] font-semibold center-flex pt-2\",children:name==='strTime'?'출발 시간':'도착 시간'}),/*#__PURE__*/_jsx(Swiper,{direction:\"vertical\",initialSlide:10,modules:[Mousewheel],slidesPerView:3,loop:true,mousewheel:true,loopAdditionalSlides:5,slideToClickedSlide:true,centeredSlides:true,className:\"h-[160px] px-[1.1rem]\",onSlideChange:swiper=>{setHours(TIME_HOURS[swiper.realIndex]);},children:TIME_HOURS.map(hour=>/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(\"div\",{className:getClassNames(hours,hour),onClick:()=>onClickHandler(hour),children:getTimeDisplay(hour)})},hour))}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex text-[12px] font-semibold\",children:[/*#__PURE__*/_jsx(\"div\",{className:getButtonClassNames(false),onClick:()=>setOpen(!open),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"w-full h-full\",children:\"\\uCDE8\\uC18C\"})}),/*#__PURE__*/_jsx(\"div\",{className:getButtonClassNames(true),onClick:()=>onClickHandler(hours),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"w-full h-full\",children:\"\\uC800\\uC7A5\"})})]})]})]});}export default Time;function getClassNames(hours,hour){return cls('flex h-[40px] cursor-pointer items-center justify-center',hours===hour?'text-[15px] text-primary-700 font-bold border-b border-t base_color border-b-[#0075FF] border-t-[#0075FF]':'text-[12px]  font-medium');}function getButtonClassNames(isSave){return cls('basis-1/2 border text-center mx-2 my-2 rounded-lg py-1.5',isSave?'base_bg text-white':'border-black/40','border');}","map":{"version":3,"names":["React","useRef","useState","Swiper","SwiperSlide","Mousewheel","cls","ClockIcon","XIcon","useController","jsx","_jsx","jsxs","_jsxs","Time","_ref","control","name","field","rules","required","TIME_HOURS","Array","from","length","_","i","inputRef","hours","setHours","open","setOpen","onClickHandler","hour","temp","concat","String","padStart","current","onChange","getTimeDisplay","className","children","ref","type","placeholder","value","readOnly","onClick","src","width","alt","direction","initialSlide","modules","slidesPerView","loop","mousewheel","loopAdditionalSlides","slideToClickedSlide","centeredSlides","onSlideChange","swiper","realIndex","map","getClassNames","getButtonClassNames","isSave"],"sources":["D:/IdeaProjects/simg-tour/src/components/time.tsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/css';\r\nimport { Mousewheel } from 'swiper/modules';\r\nimport { cls } from \"../hooks/utils\";\r\nimport ClockIcon from '../asset/images/clock-regular.svg';\r\nimport XIcon from '../asset/images/xmark-solid.svg';\r\nimport { useController } from 'react-hook-form';\r\n\r\nfunction Time({ control, name }: any) {\r\n    const { field } = useController({\r\n        name,\r\n        control,\r\n        rules: { required: true },\r\n    });\r\n\r\n    const TIME_HOURS = Array.from({ length: 24 }, (_, i) => i + 1);\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    const [hours, setHours] = useState<number>(0);\r\n    const [open, setOpen] = useState<boolean>(false);\r\n\r\n    const onClickHandler = (hour: number) => {\r\n        let temp = `${String(hour).padStart(2, '0')}:00`;\r\n        if (inputRef.current) field.onChange(temp);\r\n        setOpen(false);\r\n    };\r\n\r\n    const getTimeDisplay = (hour: number) => `${String(hour).padStart(2, '0')} : 00`;\r\n\r\n    return (\r\n        <div className='w-[160px] h-[35px] relative border rounded-md mt-2 border-[#000000]/20'>\r\n            <div className='flex items-center py-2 px-2'>\r\n                <input\r\n                    className='w-[110px] ml-[5px] text-[12px] font-[400]'\r\n                    ref={inputRef}\r\n                    type='text'\r\n                    placeholder={name === 'strTime' ? '출발 시간' : '도착 시간'}\r\n                    name={field.name}\r\n                    value={field.value}\r\n                    readOnly={true}\r\n                />\r\n                <button type=\"button\" className='ml-[5px]' onClick={() => setOpen(!open)}>\r\n                    {!open ? <img src={ClockIcon} width={'18px'} alt={'clock'} /> : <img className='ml-1' src={XIcon} width={'14px'} alt={'xmark'} />}\r\n                </button>\r\n            </div>\r\n            {open && (\r\n                <div className='border w-[160px] shadow-xl rounded-xl absolute top-[40px] bg-white z-30'>\r\n                    <div className='text-[12px] font-semibold center-flex pt-2'>\r\n                        {name === 'strTime' ? '출발 시간' : '도착 시간'}\r\n                    </div>\r\n                    <Swiper\r\n                        direction='vertical'\r\n                        initialSlide={10}\r\n                        modules={[Mousewheel]}\r\n                        slidesPerView={3}\r\n                        loop={true}\r\n                        mousewheel={true}\r\n                        loopAdditionalSlides={5}\r\n                        slideToClickedSlide={true}\r\n                        centeredSlides={true}\r\n                        className='h-[160px] px-[1.1rem]'\r\n                        onSlideChange={(swiper: any) => {\r\n                            setHours(TIME_HOURS[swiper.realIndex]);\r\n                        }}\r\n                    >\r\n                        {TIME_HOURS.map((hour: number) => (\r\n                            <SwiperSlide key={hour}>\r\n                                <div\r\n                                    className={getClassNames(hours, hour)}\r\n                                    onClick={() => onClickHandler(hour)}\r\n                                >\r\n                                    {getTimeDisplay(hour)}\r\n                                </div>\r\n                            </SwiperSlide>\r\n                        ))}\r\n                    </Swiper>\r\n                    <div className='w-full flex text-[12px] font-semibold'>\r\n                        <div className={getButtonClassNames(false)} onClick={() => setOpen(!open)}>\r\n                            <button type=\"button\" className='w-full h-full'>취소</button>\r\n                        </div>\r\n                        <div className={getButtonClassNames(true)} onClick={() => onClickHandler(hours)}>\r\n                            <button type=\"button\" className='w-full h-full'>저장</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Time;\r\n\r\nfunction getClassNames(hours: number, hour: number): string {\r\n    return cls(\r\n        'flex h-[40px] cursor-pointer items-center justify-center',\r\n        hours === hour\r\n            ? 'text-[15px] text-primary-700 font-bold border-b border-t base_color border-b-[#0075FF] border-t-[#0075FF]'\r\n            : 'text-[12px]  font-medium'\r\n    );\r\n}\r\n\r\nfunction getButtonClassNames(isSave: boolean): string {\r\n    return cls(\r\n        'basis-1/2 border text-center mx-2 my-2 rounded-lg py-1.5',\r\n        isSave ? 'base_bg text-white' : 'border-black/40',\r\n        'border'\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}