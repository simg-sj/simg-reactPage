{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"props\"];\nimport * as React from 'react';\nimport { useSlotProps } from '@mui/base/utils';\nimport { useLicenseVerifier } from '@mui/x-license-pro';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { PickersLayout } from '@mui/x-date-pickers/PickersLayout';\nimport { executeInTheNextEventLoopTick, getActiveElement, usePicker, PickersPopper } from '@mui/x-date-pickers/internals';\nimport { useEnrichedRangePickerFieldProps } from '../useEnrichedRangePickerFieldProps';\nimport { getReleaseInfo } from '../../utils/releaseInfo';\nimport { useRangePosition } from '../useRangePosition';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst releaseInfo = getReleaseInfo();\nexport const useDesktopRangePicker = _ref => {\n  var _fieldType, _slots$layout;\n  let {\n      props\n    } = _ref,\n    pickerParams = _objectWithoutPropertiesLoose(_ref, _excluded);\n  useLicenseVerifier('x-date-pickers-pro', releaseInfo);\n  const {\n    slots,\n    slotProps,\n    className,\n    sx,\n    format,\n    formatDensity,\n    timezone,\n    label,\n    inputRef,\n    name,\n    readOnly,\n    disabled,\n    autoFocus,\n    disableOpenPicker,\n    localeText,\n    reduceAnimations\n  } = props;\n  const fieldContainerRef = React.useRef(null);\n  const anchorRef = React.useRef(null);\n  const popperRef = React.useRef(null);\n  const {\n    rangePosition,\n    onRangePositionChange,\n    singleInputFieldRef\n  } = useRangePosition(props);\n  const {\n    open,\n    actions,\n    layoutProps,\n    renderCurrentView,\n    shouldRestoreFocus,\n    fieldProps: pickerFieldProps\n  } = usePicker(_extends({}, pickerParams, {\n    props,\n    wrapperVariant: 'desktop',\n    autoFocusView: true,\n    additionalViewProps: {\n      rangePosition,\n      onRangePositionChange\n    }\n  }));\n  const handleBlur = () => {\n    executeInTheNextEventLoopTick(() => {\n      var _fieldContainerRef$cu, _popperRef$current;\n      if ((_fieldContainerRef$cu = fieldContainerRef.current) != null && _fieldContainerRef$cu.contains(getActiveElement(document)) || (_popperRef$current = popperRef.current) != null && _popperRef$current.contains(getActiveElement(document))) {\n        return;\n      }\n      actions.onDismiss();\n    });\n  };\n  const Field = slots.field;\n  const fieldType = (_fieldType = Field.fieldType) != null ? _fieldType : 'multi-input';\n  const fieldProps = useSlotProps({\n    elementType: Field,\n    externalSlotProps: slotProps == null ? void 0 : slotProps.field,\n    additionalProps: _extends({}, pickerFieldProps, {\n      readOnly,\n      disabled,\n      className,\n      sx,\n      format,\n      formatDensity,\n      timezone,\n      autoFocus: autoFocus && !props.open,\n      ref: fieldContainerRef\n    }, fieldType === 'single-input' && {\n      inputRef,\n      name\n    }),\n    ownerState: props\n  });\n  const enrichedFieldProps = useEnrichedRangePickerFieldProps({\n    wrapperVariant: 'desktop',\n    fieldType,\n    open,\n    actions,\n    readOnly,\n    disableOpenPicker,\n    label,\n    localeText,\n    onBlur: handleBlur,\n    rangePosition,\n    onRangePositionChange,\n    singleInputFieldRef,\n    pickerSlotProps: slotProps,\n    pickerSlots: slots,\n    fieldProps,\n    anchorRef\n  });\n  const slotPropsForLayout = _extends({}, slotProps, {\n    toolbar: _extends({}, slotProps == null ? void 0 : slotProps.toolbar, {\n      rangePosition,\n      onRangePositionChange\n    })\n  });\n  const Layout = (_slots$layout = slots == null ? void 0 : slots.layout) != null ? _slots$layout : PickersLayout;\n  const renderPicker = () => /*#__PURE__*/_jsxs(LocalizationProvider, {\n    localeText: localeText,\n    children: [/*#__PURE__*/_jsx(Field, _extends({}, enrichedFieldProps)), /*#__PURE__*/_jsx(PickersPopper, _extends({\n      role: \"tooltip\",\n      placement: \"bottom-start\",\n      containerRef: popperRef,\n      anchorEl: anchorRef.current,\n      onBlur: handleBlur\n    }, actions, {\n      open: open,\n      slots: slots,\n      slotProps: slotProps,\n      shouldRestoreFocus: shouldRestoreFocus,\n      reduceAnimations: reduceAnimations,\n      children: /*#__PURE__*/_jsx(Layout, _extends({}, layoutProps, slotProps == null ? void 0 : slotProps.layout, {\n        slots: slots,\n        slotProps: slotPropsForLayout,\n        children: renderCurrentView()\n      }))\n    }))]\n  });\n  return {\n    renderPicker\n  };\n};","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_excluded","React","useSlotProps","useLicenseVerifier","LocalizationProvider","PickersLayout","executeInTheNextEventLoopTick","getActiveElement","usePicker","PickersPopper","useEnrichedRangePickerFieldProps","getReleaseInfo","useRangePosition","jsx","_jsx","jsxs","_jsxs","releaseInfo","useDesktopRangePicker","_ref","_fieldType","_slots$layout","props","pickerParams","slots","slotProps","className","sx","format","formatDensity","timezone","label","inputRef","name","readOnly","disabled","autoFocus","disableOpenPicker","localeText","reduceAnimations","fieldContainerRef","useRef","anchorRef","popperRef","rangePosition","onRangePositionChange","singleInputFieldRef","open","actions","layoutProps","renderCurrentView","shouldRestoreFocus","fieldProps","pickerFieldProps","wrapperVariant","autoFocusView","additionalViewProps","handleBlur","_fieldContainerRef$cu","_popperRef$current","current","contains","document","onDismiss","Field","field","fieldType","elementType","externalSlotProps","additionalProps","ref","ownerState","enrichedFieldProps","onBlur","pickerSlotProps","pickerSlots","slotPropsForLayout","toolbar","Layout","layout","renderPicker","children","role","placement","containerRef","anchorEl"],"sources":["D:/IdeaProjects/simg-tour/node_modules/@mui/x-date-pickers-pro/internals/hooks/useDesktopRangePicker/useDesktopRangePicker.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"props\"];\nimport * as React from 'react';\nimport { useSlotProps } from '@mui/base/utils';\nimport { useLicenseVerifier } from '@mui/x-license-pro';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { PickersLayout } from '@mui/x-date-pickers/PickersLayout';\nimport { executeInTheNextEventLoopTick, getActiveElement, usePicker, PickersPopper } from '@mui/x-date-pickers/internals';\nimport { useEnrichedRangePickerFieldProps } from '../useEnrichedRangePickerFieldProps';\nimport { getReleaseInfo } from '../../utils/releaseInfo';\nimport { useRangePosition } from '../useRangePosition';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst releaseInfo = getReleaseInfo();\nexport const useDesktopRangePicker = _ref => {\n  var _fieldType, _slots$layout;\n  let {\n      props\n    } = _ref,\n    pickerParams = _objectWithoutPropertiesLoose(_ref, _excluded);\n  useLicenseVerifier('x-date-pickers-pro', releaseInfo);\n  const {\n    slots,\n    slotProps,\n    className,\n    sx,\n    format,\n    formatDensity,\n    timezone,\n    label,\n    inputRef,\n    name,\n    readOnly,\n    disabled,\n    autoFocus,\n    disableOpenPicker,\n    localeText,\n    reduceAnimations\n  } = props;\n  const fieldContainerRef = React.useRef(null);\n  const anchorRef = React.useRef(null);\n  const popperRef = React.useRef(null);\n  const {\n    rangePosition,\n    onRangePositionChange,\n    singleInputFieldRef\n  } = useRangePosition(props);\n  const {\n    open,\n    actions,\n    layoutProps,\n    renderCurrentView,\n    shouldRestoreFocus,\n    fieldProps: pickerFieldProps\n  } = usePicker(_extends({}, pickerParams, {\n    props,\n    wrapperVariant: 'desktop',\n    autoFocusView: true,\n    additionalViewProps: {\n      rangePosition,\n      onRangePositionChange\n    }\n  }));\n  const handleBlur = () => {\n    executeInTheNextEventLoopTick(() => {\n      var _fieldContainerRef$cu, _popperRef$current;\n      if ((_fieldContainerRef$cu = fieldContainerRef.current) != null && _fieldContainerRef$cu.contains(getActiveElement(document)) || (_popperRef$current = popperRef.current) != null && _popperRef$current.contains(getActiveElement(document))) {\n        return;\n      }\n      actions.onDismiss();\n    });\n  };\n  const Field = slots.field;\n  const fieldType = (_fieldType = Field.fieldType) != null ? _fieldType : 'multi-input';\n  const fieldProps = useSlotProps({\n    elementType: Field,\n    externalSlotProps: slotProps == null ? void 0 : slotProps.field,\n    additionalProps: _extends({}, pickerFieldProps, {\n      readOnly,\n      disabled,\n      className,\n      sx,\n      format,\n      formatDensity,\n      timezone,\n      autoFocus: autoFocus && !props.open,\n      ref: fieldContainerRef\n    }, fieldType === 'single-input' && {\n      inputRef,\n      name\n    }),\n    ownerState: props\n  });\n  const enrichedFieldProps = useEnrichedRangePickerFieldProps({\n    wrapperVariant: 'desktop',\n    fieldType,\n    open,\n    actions,\n    readOnly,\n    disableOpenPicker,\n    label,\n    localeText,\n    onBlur: handleBlur,\n    rangePosition,\n    onRangePositionChange,\n    singleInputFieldRef,\n    pickerSlotProps: slotProps,\n    pickerSlots: slots,\n    fieldProps,\n    anchorRef\n  });\n  const slotPropsForLayout = _extends({}, slotProps, {\n    toolbar: _extends({}, slotProps == null ? void 0 : slotProps.toolbar, {\n      rangePosition,\n      onRangePositionChange\n    })\n  });\n  const Layout = (_slots$layout = slots == null ? void 0 : slots.layout) != null ? _slots$layout : PickersLayout;\n  const renderPicker = () => /*#__PURE__*/_jsxs(LocalizationProvider, {\n    localeText: localeText,\n    children: [/*#__PURE__*/_jsx(Field, _extends({}, enrichedFieldProps)), /*#__PURE__*/_jsx(PickersPopper, _extends({\n      role: \"tooltip\",\n      placement: \"bottom-start\",\n      containerRef: popperRef,\n      anchorEl: anchorRef.current,\n      onBlur: handleBlur\n    }, actions, {\n      open: open,\n      slots: slots,\n      slotProps: slotProps,\n      shouldRestoreFocus: shouldRestoreFocus,\n      reduceAnimations: reduceAnimations,\n      children: /*#__PURE__*/_jsx(Layout, _extends({}, layoutProps, slotProps == null ? void 0 : slotProps.layout, {\n        slots: slots,\n        slotProps: slotPropsForLayout,\n        children: renderCurrentView()\n      }))\n    }))]\n  });\n  return {\n    renderPicker\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}