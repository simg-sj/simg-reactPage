{"ast":null,"code":"import{useEffect,useState}from'react';function easeOutExpo(t){return t===1?1:1-Math.pow(2,-10*t);}export default function useCountNum(end){let start=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let duration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2000;const[count,setCount]=useState(start);const frameRate=1000/60;const totalFrame=Math.round(duration/frameRate);useEffect(()=>{if(end!==0){let currentNumber=start;const counter=setInterval(()=>{const progress=easeOutExpo(++currentNumber/totalFrame);setCount(Math.round(end*progress));if(progress===1){clearInterval(counter);}},frameRate);}},[end,frameRate,start,totalFrame]);return count.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g,',');}","map":{"version":3,"names":["useEffect","useState","easeOutExpo","t","Math","pow","useCountNum","end","start","arguments","length","undefined","duration","count","setCount","frameRate","totalFrame","round","currentNumber","counter","setInterval","progress","clearInterval","toString","replace"],"sources":["D:/IdeaProjects/simg-tour/src/hooks/useCountUp.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\r\n\r\nfunction easeOutExpo(t: number): number {\r\n    return t === 1 ? 1 : 1 - Math.pow(2, -10 * t)\r\n}\r\n\r\nexport default function useCountNum(end: number, start = 0, duration = 2000) {\r\n    const [count, setCount] = useState(start)\r\n    const frameRate = 1000 / 60\r\n    const totalFrame = Math.round(duration / frameRate)\r\n\r\n    useEffect(() => {\r\n        if(end !== 0){\r\n            let currentNumber = start\r\n            const counter = setInterval(() => {\r\n                const progress = easeOutExpo(++currentNumber / totalFrame)\r\n                setCount(Math.round(end * progress))\r\n\r\n                if (progress === 1) {\r\n                    clearInterval(counter)\r\n                }\r\n            }, frameRate)\r\n        }\r\n    }, [end, frameRate, start, totalFrame])\r\n\r\n    return count.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ',');\r\n}\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,QAAS,CAAAC,WAAWA,CAACC,CAAS,CAAU,CACpC,MAAO,CAAAA,CAAC,GAAK,CAAC,CAAG,CAAC,CAAG,CAAC,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAE,CAAC,EAAE,CAAGF,CAAC,CAAC,CACjD,CAEA,cAAe,SAAS,CAAAG,WAAWA,CAACC,GAAW,CAA8B,IAA5B,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,QAAQ,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CACvE,KAAM,CAACI,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAACO,KAAK,CAAC,CACzC,KAAM,CAAAO,SAAS,CAAG,IAAI,CAAG,EAAE,CAC3B,KAAM,CAAAC,UAAU,CAAGZ,IAAI,CAACa,KAAK,CAACL,QAAQ,CAAGG,SAAS,CAAC,CAEnDf,SAAS,CAAC,IAAM,CACZ,GAAGO,GAAG,GAAK,CAAC,CAAC,CACT,GAAI,CAAAW,aAAa,CAAGV,KAAK,CACzB,KAAM,CAAAW,OAAO,CAAGC,WAAW,CAAC,IAAM,CAC9B,KAAM,CAAAC,QAAQ,CAAGnB,WAAW,CAAC,EAAEgB,aAAa,CAAGF,UAAU,CAAC,CAC1DF,QAAQ,CAACV,IAAI,CAACa,KAAK,CAACV,GAAG,CAAGc,QAAQ,CAAC,CAAC,CAEpC,GAAIA,QAAQ,GAAK,CAAC,CAAE,CAChBC,aAAa,CAACH,OAAO,CAAC,CAC1B,CACJ,CAAC,CAAEJ,SAAS,CAAC,CACjB,CACJ,CAAC,CAAE,CAACR,GAAG,CAAEQ,SAAS,CAAEP,KAAK,CAAEQ,UAAU,CAAC,CAAC,CAEvC,MAAO,CAAAH,KAAK,CAACU,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,iCAAiC,CAAE,GAAG,CAAC,CAC3E"},"metadata":{},"sourceType":"module","externalDependencies":[]}