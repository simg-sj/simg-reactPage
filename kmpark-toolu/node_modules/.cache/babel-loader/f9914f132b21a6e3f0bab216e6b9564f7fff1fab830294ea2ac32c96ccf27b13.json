{"ast":null,"code":"import cn from\"classnames\";import React,{useEffect,useState}from\"react\";import{useMediaQuery}from\"react-responsive\";import{searchData}from\"../api/fetchData\";import{isScrollable}from\"../utils/common\";import Modals from\"./common/modals\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Management(){const[data,setData]=useState([]);const[parkingName,setParkinName]=useState('');const isPc=useMediaQuery({query:\"(min-width: 990px)\"});const[scrolled,setScrolled]=useState(false);const[isOpen,setIsOpen]=useState(false);const onClickSearch=async e=>{let result=await searchData(parkingName);setData(result);};useEffect(()=>{setScrolled(isScrollable);},[data]);return/*#__PURE__*/_jsxs(\"div\",{className:cn('w-full flex flex-col',{'h-[400px]':!scrolled,'pb-[160px]':scrolled}),children:[/*#__PURE__*/_jsxs(\"div\",{className:cn('flex items-center w-full space-x-4 justify-center',{'text-[10px]':!isPc}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border w-[300px] h-[40px] flex items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"basis-1/3 h-full flex_center bg-[#eeeeee] w-[60px]\",children:\"\\uD604\\uC7A5\"}),/*#__PURE__*/_jsx(\"input\",{type:'text',className:\"w-full h-full px-2\",placeholder:'현장명을 입력해주세요.',onChange:e=>setParkinName(e.currentTarget.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[60px] h-[40px] flex_center border\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-full h-full bg_base text-white\",onClick:onClickSearch,children:\"\\uAC80\\uC0C9\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[80px] h-[40px] flex_center border\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-full h-full bg_base text-white\",onClick:e=>setIsOpen(!isOpen),children:\"\\uD604\\uC7A5\\uCD94\\uAC00\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full mt-8\",children:data.length>0&&/*#__PURE__*/_jsxs(\"table\",{className:cn('w-full border',{'text-[10px]':!isPc}),children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"h-[40px] bg_base text-white\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border-r\",children:\"\\uCF54\\uB4DC\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-r\",children:\"\\uD604\\uC7A5\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-r\",children:\"\\uC601\\uC5C5\\uAD00\\uD560\"})]})}),data.map((location,index)=>/*#__PURE__*/_jsxs(\"tbody\",{className:\"text-black\",children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center h-[60px] border-b\",children:[/*#__PURE__*/_jsx(\"td\",{rowSpan:2,className:\"border-r\",children:location.PJTcode}),/*#__PURE__*/_jsx(\"td\",{className:\"border-r\",children:location.pklName}),/*#__PURE__*/_jsx(\"td\",{className:\"border-r\",children:location.sales_region})]}),/*#__PURE__*/_jsx(\"tr\",{className:\"h-[40px] border-b\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:2,className:\"border-r pl-4\",children:location.pklAddress})})]},index))]})}),isOpen&&/*#__PURE__*/_jsx(Modals,{type:'manage',pklName:'',PJTcode:'',setFlag:setIsOpen,flag:isOpen})]});}","map":{"version":3,"names":["cn","React","useEffect","useState","useMediaQuery","searchData","isScrollable","Modals","jsx","_jsx","jsxs","_jsxs","Management","data","setData","parkingName","setParkinName","isPc","query","scrolled","setScrolled","isOpen","setIsOpen","onClickSearch","e","result","className","children","type","placeholder","onChange","currentTarget","value","onClick","length","map","location","index","rowSpan","PJTcode","pklName","sales_region","colSpan","pklAddress","setFlag","flag"],"sources":["D:/IdeaProjects/kmpark/src/components/management.tsx"],"sourcesContent":["import cn from \"classnames\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {Location} from \"../@types/common\";\r\nimport {useMediaQuery} from \"react-responsive\";\r\nimport axiosInstance from \"../api/axiosInstans\";\r\nimport {searchData} from \"../api/fetchData\";\r\nimport {isScrollable, modalStyles} from \"../utils/common\";\r\nimport Modals from \"./common/modals\";\r\n\r\nexport default function Management(){\r\n    const [data, setData] = useState<Location[]>([]);\r\n    const [parkingName, setParkinName] = useState('');\r\n    const isPc = useMediaQuery({ query: \"(min-width: 990px)\" });\r\n    const [scrolled, setScrolled] = useState(false);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const onClickSearch = async (e : React.MouseEvent) => {\r\n        let result =  await searchData(parkingName);\r\n        setData(result);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setScrolled(isScrollable);\r\n    }, [data]);\r\n    return(\r\n        <div className={cn('w-full flex flex-col', {'h-[400px]': !scrolled, 'pb-[160px]' : scrolled})}>\r\n            <div className={cn('flex items-center w-full space-x-4 justify-center',{'text-[10px]': !isPc})}>\r\n                <div className='border w-[300px] h-[40px] flex items-center'>\r\n                    <label className='basis-1/3 h-full flex_center bg-[#eeeeee] w-[60px]'>\r\n                        현장\r\n                    </label>\r\n                    <input type={'text'} className='w-full h-full px-2' placeholder={'현장명을 입력해주세요.'} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setParkinName(e.currentTarget.value)}/>\r\n                </div>\r\n                <div className='w-[60px] h-[40px] flex_center border'>\r\n                    <button className='w-full h-full bg_base text-white' onClick={onClickSearch}>\r\n                        검색\r\n                    </button>\r\n                </div>\r\n                <div className='w-[80px] h-[40px] flex_center border'>\r\n                    <button className='w-full h-full bg_base text-white' onClick={(e:React.MouseEvent) => setIsOpen(!isOpen)}>\r\n                        현장추가\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className='w-full mt-8'>\r\n                {data.length > 0 && (\r\n                    <table className={cn('w-full border',{'text-[10px]' : !isPc})}>\r\n                        <thead>\r\n                        <tr className='h-[40px] bg_base text-white'>\r\n                            <th className='border-r'>코드</th>\r\n                            <th className='border-r'>현장명</th>\r\n                            <th className='border-r'>영업관할</th>\r\n                        </tr>\r\n                        </thead>\r\n                        {data.map((location, index) => (\r\n                            <tbody key={index} className='text-black'>\r\n                            <tr className='text-center h-[60px] border-b'>\r\n                                <td rowSpan={2} className='border-r'>{location.PJTcode}</td>\r\n                                <td className='border-r'>{location.pklName}</td>\r\n                                <td className='border-r'>{location.sales_region}</td>\r\n                            </tr>\r\n                            <tr className='h-[40px] border-b'>\r\n                                <td colSpan={2} className='border-r pl-4'>\r\n                                    {location.pklAddress}\r\n                                </td>\r\n                            </tr>\r\n                            </tbody>\r\n                        ))}\r\n                    </table>\r\n                )}\r\n            </div>\r\n            {\r\n                isOpen &&\r\n                <Modals type={'manage'} pklName={''} PJTcode={''} setFlag={setIsOpen} flag={isOpen}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,EAAE,KAAM,YAAY,CAC3B,MAAO,CAAAC,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAEhD,OAAQC,aAAa,KAAO,kBAAkB,CAE9C,OAAQC,UAAU,KAAO,kBAAkB,CAC3C,OAAQC,YAAY,KAAoB,iBAAiB,CACzD,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErC,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAE,CAChC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAa,EAAE,CAAC,CAChD,KAAM,CAACY,WAAW,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACjD,KAAM,CAAAc,IAAI,CAAGb,aAAa,CAAC,CAAEc,KAAK,CAAE,oBAAqB,CAAC,CAAC,CAC3D,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACkB,MAAM,CAAEC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAoB,aAAa,CAAG,KAAO,CAAAC,CAAoB,EAAK,CAClD,GAAI,CAAAC,MAAM,CAAI,KAAM,CAAApB,UAAU,CAACU,WAAW,CAAC,CAC3CD,OAAO,CAACW,MAAM,CAAC,CACnB,CAAC,CAEDvB,SAAS,CAAC,IAAM,CACZkB,WAAW,CAACd,YAAY,CAAC,CAC7B,CAAC,CAAE,CAACO,IAAI,CAAC,CAAC,CACV,mBACIF,KAAA,QAAKe,SAAS,CAAE1B,EAAE,CAAC,sBAAsB,CAAE,CAAC,WAAW,CAAE,CAACmB,QAAQ,CAAE,YAAY,CAAGA,QAAQ,CAAC,CAAE,CAAAQ,QAAA,eAC1FhB,KAAA,QAAKe,SAAS,CAAE1B,EAAE,CAAC,mDAAmD,CAAC,CAAC,aAAa,CAAE,CAACiB,IAAI,CAAC,CAAE,CAAAU,QAAA,eAC3FhB,KAAA,QAAKe,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eACxDlB,IAAA,UAAOiB,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAAC,cAEtE,CAAO,CAAC,cACRlB,IAAA,UAAOmB,IAAI,CAAE,MAAO,CAACF,SAAS,CAAC,oBAAoB,CAACG,WAAW,CAAE,cAAe,CAACC,QAAQ,CAAGN,CAAsC,EAAKR,aAAa,CAACQ,CAAC,CAACO,aAAa,CAACC,KAAK,CAAE,CAAC,CAAC,EAC7K,CAAC,cACNvB,IAAA,QAAKiB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,cACjDlB,IAAA,WAAQiB,SAAS,CAAC,kCAAkC,CAACO,OAAO,CAAEV,aAAc,CAAAI,QAAA,CAAC,cAE7E,CAAQ,CAAC,CACR,CAAC,cACNlB,IAAA,QAAKiB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,cACjDlB,IAAA,WAAQiB,SAAS,CAAC,kCAAkC,CAACO,OAAO,CAAGT,CAAkB,EAAKF,SAAS,CAAC,CAACD,MAAM,CAAE,CAAAM,QAAA,CAAC,0BAE1G,CAAQ,CAAC,CACR,CAAC,EACL,CAAC,cACNlB,IAAA,QAAKiB,SAAS,CAAC,aAAa,CAAAC,QAAA,CACvBd,IAAI,CAACqB,MAAM,CAAG,CAAC,eACZvB,KAAA,UAAOe,SAAS,CAAE1B,EAAE,CAAC,eAAe,CAAC,CAAC,aAAa,CAAG,CAACiB,IAAI,CAAC,CAAE,CAAAU,QAAA,eAC1DlB,IAAA,UAAAkB,QAAA,cACAhB,KAAA,OAAIe,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eACvClB,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,cAAE,CAAI,CAAC,cAChClB,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,oBAAG,CAAI,CAAC,cACjClB,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,EAClC,CAAC,CACE,CAAC,CACPd,IAAI,CAACsB,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,gBACtB1B,KAAA,UAAmBe,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzChB,KAAA,OAAIe,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eACzClB,IAAA,OAAI6B,OAAO,CAAE,CAAE,CAACZ,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAES,QAAQ,CAACG,OAAO,CAAK,CAAC,cAC5D9B,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAES,QAAQ,CAACI,OAAO,CAAK,CAAC,cAChD/B,IAAA,OAAIiB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAES,QAAQ,CAACK,YAAY,CAAK,CAAC,EACrD,CAAC,cACLhC,IAAA,OAAIiB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAC7BlB,IAAA,OAAIiC,OAAO,CAAE,CAAE,CAAChB,SAAS,CAAC,eAAe,CAAAC,QAAA,CACpCS,QAAQ,CAACO,UAAU,CACpB,CAAC,CACL,CAAC,GAVON,KAWL,CACV,CAAC,EACC,CACV,CACA,CAAC,CAEFhB,MAAM,eACNZ,IAAA,CAACF,MAAM,EAACqB,IAAI,CAAE,QAAS,CAACY,OAAO,CAAE,EAAG,CAACD,OAAO,CAAE,EAAG,CAACK,OAAO,CAAEtB,SAAU,CAACuB,IAAI,CAAExB,MAAO,CAAC,CAAC,EAExF,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}