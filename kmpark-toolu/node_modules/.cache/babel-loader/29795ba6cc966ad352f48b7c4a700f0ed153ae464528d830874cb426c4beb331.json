{"ast":null,"code":"import cn from'classnames';import{useMediaQuery}from\"react-responsive\";import React,{useEffect,useState}from\"react\";import Modals from\"./common/modals\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function GetLocation(_ref){let{data}=_ref;const isPc=useMediaQuery({query:\"(min-width: 990px)\"});const[flag,setFlag]=useState(false);const[param,setParam]=useState();const climRequest=state=>{setParam(state);setFlag(!flag);};useEffect(()=>{console.log(\"Flag changed:\",flag);if(flag){document.body.style.overflow='hidden';}else{document.body.style.overflow='auto';}},[flag]);return/*#__PURE__*/_jsxs(\"div\",{className:cn('w-full mt-8 flex_center',{'text-[10px]':!isPc,'text-[14px]':isPc}),children:[data.length>0&&/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"h-[40px] bg_base text-white\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border-r\",children:\"\\uCF54\\uB4DC\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-r\",children:\"\\uD604\\uC7A5\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-r\",children:\"\\uC601\\uC5C5\\uAD00\\uD560\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC7A5\\uC560\\uC811\\uC218\"})]})}),data.map((location,index)=>/*#__PURE__*/_jsxs(\"tbody\",{className:\"text-black\",children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center h-[60px] border-b\",children:[/*#__PURE__*/_jsx(\"td\",{rowSpan:2,className:\"border-r\",children:location.PJTcode}),/*#__PURE__*/_jsx(\"td\",{className:\"border-r\",children:location.pklName}),/*#__PURE__*/_jsx(\"td\",{className:\"border-r\",children:location.sales_region}),/*#__PURE__*/_jsx(\"td\",{rowSpan:2,children:/*#__PURE__*/_jsx(\"button\",{className:cn(' border text-white bg-[#007bff] rounded-lg',{'h-[28px] w-[40px] text-[9px]':!isPc,'h-[40px] w-[80px]':isPc}),onClick:event=>climRequest(location),children:\"\\uC7A5\\uC560 \\uC811\\uC218\"})})]}),/*#__PURE__*/_jsx(\"tr\",{className:\"h-[40px] border-b\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:2,className:\"border-r pl-4\",children:location.pklAddress})})]},index))]}),flag&&/*#__PURE__*/_jsx(Modals,{type:'clim',PJTcode:param===null||param===void 0?void 0:param.PJTcode,pklName:param===null||param===void 0?void 0:param.pklName,flag:flag,setFlag:setFlag})]});}","map":{"version":3,"names":["cn","useMediaQuery","React","useEffect","useState","Modals","jsx","_jsx","jsxs","_jsxs","GetLocation","_ref","data","isPc","query","flag","setFlag","param","setParam","climRequest","state","console","log","document","body","style","overflow","className","children","length","map","location","index","rowSpan","PJTcode","pklName","sales_region","onClick","event","colSpan","pklAddress","type"],"sources":["D:/IdeaProjects/kmpark/src/components/getLocation.tsx"],"sourcesContent":["import {Location} from '../@types/common';\r\nimport cn from 'classnames';\r\nimport {useMediaQuery} from \"react-responsive\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport Modals from \"./common/modals\";\r\n\r\ninterface Props {\r\n    data: Location[]; // Location 타입의 배열을 받는 props\r\n}\r\n\r\nexport default function GetLocation({ data }: Props) {\r\n    const isPc = useMediaQuery({ query: \"(min-width: 990px)\" });\r\n    const [flag, setFlag] = useState(false);\r\n    const [param, setParam] = useState<Location>();\r\n    const climRequest = (state : Location) => {\r\n        setParam(state);\r\n        setFlag(!flag);\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(\"Flag changed:\", flag);\r\n        if (flag) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'auto';\r\n        }\r\n    }, [flag]);\r\n\r\n    return (\r\n        <div className={cn('w-full mt-8 flex_center', {'text-[10px]': !isPc, 'text-[14px]' : isPc})}>\r\n            {data.length > 0 && (\r\n                <table className='w-full border'>\r\n                    <thead>\r\n                    <tr className='h-[40px] bg_base text-white'>\r\n                        <th className='border-r'>코드</th>\r\n                        <th className='border-r'>현장명</th>\r\n                        <th className='border-r'>영업관할</th>\r\n                        <th>장애접수</th>\r\n                    </tr>\r\n                    </thead>\r\n                    {data.map((location, index) => (\r\n                        <tbody key={index} className='text-black'>\r\n                        <tr className='text-center h-[60px] border-b'>\r\n                            <td rowSpan={2} className='border-r'>{location.PJTcode}</td>\r\n                            <td className='border-r'>{location.pklName}</td>\r\n                            <td className='border-r'>{location.sales_region}</td>\r\n                            <td rowSpan={2}><button className={cn(' border text-white bg-[#007bff] rounded-lg',{'h-[28px] w-[40px] text-[9px]' : !isPc, 'h-[40px] w-[80px]' : isPc})} onClick={(event : React.MouseEvent)=>climRequest(location)}>장애 접수</button></td>\r\n                        </tr>\r\n                        <tr className='h-[40px] border-b'>\r\n                            <td colSpan={2} className='border-r pl-4'>\r\n                                {location.pklAddress}\r\n                            </td>\r\n                        </tr>\r\n                        </tbody>\r\n                    ))}\r\n                </table>\r\n            )}\r\n            {\r\n                flag &&\r\n                <Modals type={'clim'} PJTcode={param?.PJTcode} pklName={param?.pklName} flag={flag} setFlag={setFlag}/>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}