{"ast":null,"code":"import cn from\"classnames\";import React,{useEffect,useState}from\"react\";import{useMediaQuery}from\"react-responsive\";import{searchData}from\"../api/fetchData\";import{isScrollable}from\"../utils/common\";import Modals from\"./common/modals\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Management(){const[data,setData]=useState([]);const[parkingName,setParkinName]=useState('');const isPc=useMediaQuery({query:\"(min-width: 990px)\"});const isSmall=useMediaQuery({query:\"(min-width: 280px)\"});const[scrolled,setScrolled]=useState(false);const[isOpen,setIsOpen]=useState(false);const handleKeyDown=e=>{if(e.key==='Enter'){onClickSearch();}};const onClickSearch=async()=>{const trimmedValue=parkingName.trim();if(trimmedValue){await searchData(trimmedValue).then(result=>setData(result));}};useEffect(()=>{setScrolled(isScrollable);},[data]);return/*#__PURE__*/_jsxs(\"div\",{className:cn('w-full flex flex-col',{'h-[400px]':!scrolled,'pb-[160px]':scrolled}),children:[/*#__PURE__*/_jsxs(\"div\",{className:cn('flex items-center w-full space-x-4 justify-center',{'text-[10px]':!isPc}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border w-[300px] h-[40px] flex items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"basis-1/3 h-full flex_center bg-[#eeeeee] w-[60px]\",children:\"\\uD604\\uC7A5\"}),/*#__PURE__*/_jsx(\"input\",{type:'text',className:\"w-full h-full px-2\",placeholder:'현장명을 입력해주세요.',onChange:e=>setParkinName(e.currentTarget.value),onKeyDown:handleKeyDown})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[60px] h-[40px] flex_center border\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-full h-full bg_base text-white\",onClick:onClickSearch,children:\"\\uAC80\\uC0C9\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[80px] h-[40px] flex_center border\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-full h-full bg_base text-white\",onClick:e=>setIsOpen(!isOpen),children:\"\\uD604\\uC7A5\\uCD94\\uAC00\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full mt-8\",children:data.length>0&&/*#__PURE__*/_jsxs(\"table\",{className:cn('w-full border',{'text-[10px]':!isPc}),children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"h-[40px] bg_base text-white\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border-r\",children:\"\\uCF54\\uB4DC\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-r\",children:\"\\uD604\\uC7A5\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-r\",children:\"\\uC601\\uC5C5\\uAD00\\uD560\"})]})}),data.map((location,index)=>/*#__PURE__*/_jsxs(\"tbody\",{className:\"text-black\",children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center h-[60px] border-b\",children:[/*#__PURE__*/_jsx(\"td\",{rowSpan:2,className:\"border-r\",children:location.PJTcode}),/*#__PURE__*/_jsx(\"td\",{className:\"border-r\",children:location.pklName}),/*#__PURE__*/_jsx(\"td\",{className:\"border-r\",children:location.sales_region})]}),/*#__PURE__*/_jsx(\"tr\",{className:\"h-[40px] border-b\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:2,className:\"border-r pl-4\",children:location.pklAddress})})]},index))]})}),isOpen&&/*#__PURE__*/_jsx(Modals,{type:'manage',pklName:'',PJTcode:'',setFlag:setIsOpen,flag:isOpen})]});}","map":{"version":3,"names":["cn","React","useEffect","useState","useMediaQuery","searchData","isScrollable","Modals","jsx","_jsx","jsxs","_jsxs","Management","data","setData","parkingName","setParkinName","isPc","query","isSmall","scrolled","setScrolled","isOpen","setIsOpen","handleKeyDown","e","key","onClickSearch","trimmedValue","trim","then","result","className","children","type","placeholder","onChange","currentTarget","value","onKeyDown","onClick","length","map","location","index","rowSpan","PJTcode","pklName","sales_region","colSpan","pklAddress","setFlag","flag"],"sources":["D:/IdeaProjects/kmpark/src/components/management.tsx"],"sourcesContent":["import cn from \"classnames\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {Location} from \"../@types/common\";\r\nimport {useMediaQuery} from \"react-responsive\";\r\nimport axiosInstance from \"../api/axiosInstans\";\r\nimport {searchData} from \"../api/fetchData\";\r\nimport {isScrollable, modalStyles} from \"../utils/common\";\r\nimport Modals from \"./common/modals\";\r\n\r\nexport default function Management(){\r\n    const [data, setData] = useState<Location[]>([]);\r\n    const [parkingName, setParkinName] = useState('');\r\n    const isPc = useMediaQuery({ query: \"(min-width: 990px)\" });\r\n    const isSmall = useMediaQuery({ query: \"(min-width: 280px)\" });\r\n    const [scrolled, setScrolled] = useState(false);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n\r\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            onClickSearch();\r\n        }\r\n    };\r\n\r\n    const onClickSearch = async () => {\r\n        const trimmedValue = parkingName.trim();\r\n        if (trimmedValue) {\r\n            await searchData(trimmedValue).then((result) => setData(result));\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setScrolled(isScrollable);\r\n    }, [data]);\r\n    return(\r\n        <div className={cn('w-full flex flex-col', {'h-[400px]': !scrolled, 'pb-[160px]' : scrolled})}>\r\n            <div className={cn('flex items-center w-full space-x-4 justify-center',{'text-[10px]': !isPc})}>\r\n                <div className='border w-[300px] h-[40px] flex items-center'>\r\n                    <label className='basis-1/3 h-full flex_center bg-[#eeeeee] w-[60px]'>\r\n                        현장\r\n                    </label>\r\n                    <input type={'text'} className='w-full h-full px-2' placeholder={'현장명을 입력해주세요.'}\r\n                           onChange={(e: React.ChangeEvent<HTMLInputElement>) => setParkinName(e.currentTarget.value)}\r\n                           onKeyDown={handleKeyDown}\r\n                    />\r\n                </div>\r\n                <div className='w-[60px] h-[40px] flex_center border'>\r\n                    <button className='w-full h-full bg_base text-white' onClick={onClickSearch}>\r\n                        검색\r\n                    </button>\r\n                </div>\r\n                <div className='w-[80px] h-[40px] flex_center border'>\r\n                    <button className='w-full h-full bg_base text-white' onClick={(e:React.MouseEvent) => setIsOpen(!isOpen)}>\r\n                        현장추가\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className='w-full mt-8'>\r\n                {data.length > 0 && (\r\n                    <table className={cn('w-full border',{'text-[10px]' : !isPc})}>\r\n                        <thead>\r\n                        <tr className='h-[40px] bg_base text-white'>\r\n                            <th className='border-r'>코드</th>\r\n                            <th className='border-r'>현장명</th>\r\n                            <th className='border-r'>영업관할</th>\r\n                        </tr>\r\n                        </thead>\r\n                        {data.map((location, index) => (\r\n                            <tbody key={index} className='text-black'>\r\n                            <tr className='text-center h-[60px] border-b'>\r\n                                <td rowSpan={2} className='border-r'>{location.PJTcode}</td>\r\n                                <td className='border-r'>{location.pklName}</td>\r\n                                <td className='border-r'>{location.sales_region}</td>\r\n                            </tr>\r\n                            <tr className='h-[40px] border-b'>\r\n                                <td colSpan={2} className='border-r pl-4'>\r\n                                    {location.pklAddress}\r\n                                </td>\r\n                            </tr>\r\n                            </tbody>\r\n                        ))}\r\n                    </table>\r\n                )}\r\n            </div>\r\n            {\r\n                isOpen &&\r\n                <Modals type={'manage'} pklName={''} PJTcode={''} setFlag={setIsOpen} flag={isOpen}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}