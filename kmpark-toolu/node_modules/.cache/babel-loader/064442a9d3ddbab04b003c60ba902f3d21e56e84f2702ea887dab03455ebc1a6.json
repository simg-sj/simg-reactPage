{"ast":null,"code":"import cn from\"classnames\";import{useMediaQuery}from\"react-responsive\";import React,{useState}from\"react\";import axiosInstance from\"../api/axiosInstans\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){let{setLogin}=_ref;const isPc=useMediaQuery({query:\"(min-width: 990px)\"});const[userId,setUserId]=useState('');const[password,setPassword]=useState('');const onClickLogin=async event=>{const fetchLogin=async()=>{try{let data={userId:userId,password:password};const result=await axiosInstance.post('/login',data);if(result.response==='OK'){sessionStorage.setItem('upk',result.data[0].upk);sessionStorage.setItem('name',result.data[0].name);sessionStorage.setItem('userId',result.data[0].id);setLogin(true);}else{alert(\"아이디 또는 패스워드를 확인해주세요.\");}}catch(error){console.error('Error fetching data:',error);}};fetchLogin();};return/*#__PURE__*/_jsx(\"div\",{className:cn('w-full pt-[120px] flex_center'),children:/*#__PURE__*/_jsx(\"div\",{className:cn('flex-col w-[325px] flex_center',{'text-[9px]':!isPc}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex_center flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"basis-1/3 flex_center h-[40px]\",children:/*#__PURE__*/_jsx(\"label\",{children:\"\\uC544\\uC774\\uB514 :\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"basis-2/3 px-4 \",children:/*#__PURE__*/_jsx(\"input\",{type:'text',className:\"border px-2 h-[40px]\",onChange:e=>setUserId(e.currentTarget.value)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full mt-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"basis-1/3 flex_center h-[40px] \",children:/*#__PURE__*/_jsx(\"label\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 :\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"basis-2/3 px-4 \",children:/*#__PURE__*/_jsx(\"input\",{type:'password',className:\"border px-2 h-[40px]\",onChange:e=>setPassword(e.currentTarget.value)})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex_center mt-8\",children:/*#__PURE__*/_jsx(\"button\",{type:'button',className:cn('border py-2 px-6 rounded-xl',{'bg-[#eeeeee]':!(userId&&password),'text-white bg_base':userId&&password}),onClick:onClickLogin,disabled:!(userId||password),children:\"\\uB85C\\uADF8\\uC778\"})})]})})});}","map":{"version":3,"names":["cn","useMediaQuery","React","useState","axiosInstance","jsx","_jsx","jsxs","_jsxs","Login","_ref","setLogin","isPc","query","userId","setUserId","password","setPassword","onClickLogin","event","fetchLogin","data","result","post","response","sessionStorage","setItem","upk","name","id","alert","error","console","className","children","type","onChange","e","currentTarget","value","onClick","disabled"],"sources":["D:/IdeaProjects/kmpark/src/components/login.tsx"],"sourcesContent":["import cn from \"classnames\";\r\nimport {useMediaQuery} from \"react-responsive\";\r\nimport React, {SetStateAction, useState} from \"react\";\r\nimport axiosInstance from \"../api/axiosInstans\";\r\n\r\ninterface Props {\r\n    setLogin : React.Dispatch<SetStateAction<boolean>>;\r\n}\r\nexport default function Login({setLogin} : Props){\r\n    const isPc = useMediaQuery({ query: \"(min-width: 990px)\" });\r\n    const [userId, setUserId] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const onClickLogin = async (event : React.MouseEvent) => {\r\n        const fetchLogin = async () => {\r\n            try {\r\n                let data = {\r\n                    userId : userId,\r\n                    password :password\r\n                }\r\n                const result: any = await axiosInstance.post('/login',data);\r\n                if(result.response === 'OK' ){\r\n                    sessionStorage.setItem('upk', result.data[0].upk);\r\n                    sessionStorage.setItem('name', result.data[0].name);\r\n                    sessionStorage.setItem('userId', result.data[0].id);\r\n                    setLogin(true);\r\n                }else {\r\n                    alert(\"아이디 또는 패스워드를 확인해주세요.\");\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching data:', error);\r\n            }\r\n        };\r\n        fetchLogin();\r\n    }\r\n    return (\r\n        <div className={cn('w-full pt-[120px] flex_center')}>\r\n                <div className={cn('flex-col w-[325px] flex_center', {'text-[9px]': !isPc})}>\r\n                    <div className='w-full flex_center flex-col'>\r\n                        <div className='flex w-full'>\r\n                            <div className='basis-1/3 flex_center h-[40px]'>\r\n                                <label>\r\n                                    아이디 :\r\n                                </label>\r\n                            </div>\r\n                            <div className='basis-2/3 px-4 '>\r\n                                <input type={'text'} className='border px-2 h-[40px]' onChange={(e : React.ChangeEvent<HTMLInputElement>) => setUserId(e.currentTarget.value)}/>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex w-full mt-8'>\r\n                            <div className='basis-1/3 flex_center h-[40px] '>\r\n                                <label>\r\n                                    비밀번호 :\r\n                                </label>\r\n                            </div>\r\n                            <div className='basis-2/3 px-4 '>\r\n                                <input type={'password'} className='border px-2 h-[40px]' onChange={(e : React.ChangeEvent<HTMLInputElement>) => setPassword(e.currentTarget.value)}/>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex_center mt-8'>\r\n                            <button type={'button'} className={cn('border py-2 px-6 rounded-xl',{'bg-[#eeeeee]' : !(userId && password), 'text-white bg_base' :(userId && password)})} onClick={onClickLogin} disabled={(!(userId || password))}>로그인</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,EAAE,KAAM,YAAY,CAC3B,OAAQC,aAAa,KAAO,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,EAAmBC,QAAQ,KAAO,OAAO,CACrD,MAAO,CAAAC,aAAa,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAKhD,cAAe,SAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAoB,IAAnB,CAACC,QAAgB,CAAC,CAAAD,IAAA,CAC5C,KAAM,CAAAE,IAAI,CAAGX,aAAa,CAAC,CAAEY,KAAK,CAAE,oBAAqB,CAAC,CAAC,CAC3D,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAe,YAAY,CAAG,KAAO,CAAAC,KAAwB,EAAK,CACrD,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACA,GAAI,CAAAC,IAAI,CAAG,CACPP,MAAM,CAAGA,MAAM,CACfE,QAAQ,CAAEA,QACd,CAAC,CACD,KAAM,CAAAM,MAAW,CAAG,KAAM,CAAAlB,aAAa,CAACmB,IAAI,CAAC,QAAQ,CAACF,IAAI,CAAC,CAC3D,GAAGC,MAAM,CAACE,QAAQ,GAAK,IAAI,CAAE,CACzBC,cAAc,CAACC,OAAO,CAAC,KAAK,CAAEJ,MAAM,CAACD,IAAI,CAAC,CAAC,CAAC,CAACM,GAAG,CAAC,CACjDF,cAAc,CAACC,OAAO,CAAC,MAAM,CAAEJ,MAAM,CAACD,IAAI,CAAC,CAAC,CAAC,CAACO,IAAI,CAAC,CACnDH,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAEJ,MAAM,CAACD,IAAI,CAAC,CAAC,CAAC,CAACQ,EAAE,CAAC,CACnDlB,QAAQ,CAAC,IAAI,CAAC,CAClB,CAAC,IAAK,CACFmB,KAAK,CAAC,sBAAsB,CAAC,CACjC,CACJ,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAChD,CACJ,CAAC,CACDX,UAAU,CAAC,CAAC,CAChB,CAAC,CACD,mBACId,IAAA,QAAK2B,SAAS,CAAEjC,EAAE,CAAC,+BAA+B,CAAE,CAAAkC,QAAA,cAC5C5B,IAAA,QAAK2B,SAAS,CAAEjC,EAAE,CAAC,gCAAgC,CAAE,CAAC,YAAY,CAAE,CAACY,IAAI,CAAC,CAAE,CAAAsB,QAAA,cACxE1B,KAAA,QAAKyB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eACxC1B,KAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB5B,IAAA,QAAK2B,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC3C5B,IAAA,UAAA4B,QAAA,CAAO,sBAEP,CAAO,CAAC,CACP,CAAC,cACN5B,IAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC5B5B,IAAA,UAAO6B,IAAI,CAAE,MAAO,CAACF,SAAS,CAAC,sBAAsB,CAACG,QAAQ,CAAGC,CAAuC,EAAKtB,SAAS,CAACsB,CAAC,CAACC,aAAa,CAACC,KAAK,CAAE,CAAC,CAAC,CAC/I,CAAC,EACL,CAAC,cACN/B,KAAA,QAAKyB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7B5B,IAAA,QAAK2B,SAAS,CAAC,iCAAiC,CAAAC,QAAA,cAC5C5B,IAAA,UAAA4B,QAAA,CAAO,4BAEP,CAAO,CAAC,CACP,CAAC,cACN5B,IAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC5B5B,IAAA,UAAO6B,IAAI,CAAE,UAAW,CAACF,SAAS,CAAC,sBAAsB,CAACG,QAAQ,CAAGC,CAAuC,EAAKpB,WAAW,CAACoB,CAAC,CAACC,aAAa,CAACC,KAAK,CAAE,CAAC,CAAC,CACrJ,CAAC,EACL,CAAC,cACNjC,IAAA,QAAK2B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7B5B,IAAA,WAAQ6B,IAAI,CAAE,QAAS,CAACF,SAAS,CAAEjC,EAAE,CAAC,6BAA6B,CAAC,CAAC,cAAc,CAAG,EAAEc,MAAM,EAAIE,QAAQ,CAAC,CAAE,oBAAoB,CAAGF,MAAM,EAAIE,QAAS,CAAC,CAAE,CAACwB,OAAO,CAAEtB,YAAa,CAACuB,QAAQ,CAAG,EAAE3B,MAAM,EAAIE,QAAQ,CAAG,CAAAkB,QAAA,CAAC,oBAAG,CAAQ,CAAC,CAChO,CAAC,EACL,CAAC,CACL,CAAC,CACT,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}